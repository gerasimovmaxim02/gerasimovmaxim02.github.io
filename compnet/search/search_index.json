{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Web-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 2022-2023 \u0413\u0435\u0440\u0430\u0441\u0438\u043c\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c, \u0433\u0440\u0443\u043f\u043f\u0430 K33421","title":"Web-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 2022-2023"},{"location":"#web-2022-2023","text":"","title":"Web-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 2022-2023"},{"location":"#k33421","text":"","title":"\u0413\u0435\u0440\u0430\u0441\u0438\u043c\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c, \u0433\u0440\u0443\u043f\u043f\u0430 K33421"},{"location":"lab_work1/","text":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21161 \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21161 \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0443\u044e \u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041a\u043b\u0438\u0435\u043d\u0442 \u043e\u0442\u0441\u044b\u043b\u0430\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u00abHello, server\u00bb. \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043e\u0442\u0440\u0430\u0437\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0421\u0435\u0440\u0432\u0435\u0440 \u0432 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442\u0441\u044b\u043b\u0430\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u00abHello, client\u00bb. \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c\u0441\u044f \u0443 \u043a\u043b\u0438\u0435\u043d\u0442\u0430. \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 socket . \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430 UDP. \u0421\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b server.py import socket sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM) sock.bind((\"127.0.0.1\", 9090)) sock.listen(1) while True: try: con, addr = sock.accept() data = con.recv(9111989) dec_data = data.decode(\"utf-8\") print(dec_data) con.send(b\"Hello, client\") finally: sock.close() break \u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b client.py import socket sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM) sock.connect((\"127.0.0.1\", 9090)) sock.send(b\"Hello, server \\n\") text=sock.recv(9111989) dec_data=text.decode(\"utf-8\") print(dec_data) \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21162 \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0443\u044e \u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041a\u043b\u0438\u0435\u043d\u0442 \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442 \u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438, \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u0432\u043e\u0434\u044f\u0442\u0441\u044f \u0441 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b. \u0421\u0435\u0440\u0432\u0435\u0440 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0443. \u0412 \u043c\u043e\u0451\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u044b\u043b\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0441\u0447\u0451\u0442 \u043f\u043b\u043e\u0449\u0430\u0434\u0438 \u0442\u0440\u0430\u043f\u0435\u0446\u0438\u0438. \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 socket . \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430 TCP. \u0421\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b server.py import socket import math sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM) sock.bind((\"127.0.0.1\", 9090)) sock.listen(1) while True: try: con, addr = sock.accept() s = con.recv(9111989) s = s.decode(\"utf8\") s = s.split() a = int(s[0]) b = int(s[1]) h = int(s[2]) con.send(b\"S = \" + str(0.5*h*(a+b)).encode(\"utf-8\")) finally: sock.close() break \u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b client.py import socket sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM) a = input(\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043c\u0430\u043b\u043e\u0435 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0440\u0430\u043f\u0435\u0446\u0438\u0438:\") b = input(\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u043e\u0435 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0440\u0430\u043f\u0435\u0446\u0438\u0438:\") h = input(\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u044b\u0441\u043e\u0442\u0443 \u0442\u0440\u0430\u043f\u0435\u0446\u0438\u0438:\") s = a + \" \" + b + \" \" + h sock.connect((\"127.0.0.1\", 9090)) sock.send(s.encode(\"utf-8\")) text=sock.recv(9111989) udata=text.decode(\"utf-8\") print(udata) \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21163 \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041a\u043b\u0438\u0435\u043d\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443. \u0412 \u043e\u0442\u0432\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 http-\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0435\u0435 html-\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e\u0434\u0433\u0440\u0443\u0436\u0430\u0435\u0442 \u0438\u0437 \u0444\u0430\u0439\u043b\u0430 index.html. \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 socket . \u0424\u0430\u0439\u043b index.html <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Ryan Gosling</title> </head> <body> <h1>Hello world!</h1> <article> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. </article> </body> </html> \u0421\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b server.py import socket s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) s.bind(('localhost', 9090)) s.listen(1) while True: conn, addr = s.accept() html_page = open('index.html') html_content = html_page.read() html_page.close() html_response = 'HTTP/1.0 200 OK\\n' + html_content conn.sendall(html_response.encode('utf-8')) conn.close() \u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b client.py import socket s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) s.connect(('localhost', 9090)) data = s.recv(9111989) print(data.decode('utf-8')) s.close() \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21164 \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0432\u0443\u0445\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0438\u043b\u0438 \u043c\u043d\u043e\u0433\u043e\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0447\u0430\u0442. \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043c\u043d\u043e\u0433\u043e\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0447\u0430\u0441\u0430 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0430\u043b\u043b\u043e\u0432. \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 socket . \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 threading . \u0414\u043b\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e UDP, thearding \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0443 \u043a\u043b\u0438\u0435\u043d\u0442\u0430. \u0414\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441 TCP \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0418 \u043f\u0440\u0438\u0435\u043c \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0432\u0441\u0435\u043c \u044e\u0437\u0435\u0440\u0430\u043c \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u0432 \u043f\u043e\u0442\u043e\u043a\u0430\u0445. \u041d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u044e\u0437\u0435\u0440\u043e\u0432, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0442\u043e\u043c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0438\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u041c\u043d\u043e\u044e \u0431\u044b\u043b \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d TCP \u0432\u0430\u0440\u0438\u0430\u043d\u0442. \u0421\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b server.py import socket import threading host = \"localhost\" port = 9090 server = socket.socket(socket.AF_INET, socket.SOCK_STREAM) server.bind((host, port)) server.listen() print(\"The chat has been started!\") clients = [] users = [] def broadcast(message, client): for i in clients: if i != client: i.send(message) def handle(client): while True: message = client.recv(8192) if message.decode(\"utf-8\") == \"leave\": i = clients.index(client) clients.remove(client) client.close() user = users[i] users.remove(user) message = \"{} left the chat.\".format(user).encode(\"utf-8\") broadcast(message, client) break broadcast(message, client) def receive(): while True: connection, address = server.accept() message = \"What's your username?\" connection.sendto(message.encode(\"utf-8\"), address) user = connection.recv(8192) user = user.decode(\"utf-8\") users.append(user) clients.append(connection) message = \"You have entered the chat! Welcome!\" connection.sendto(message.encode(\"utf-8\"), address) message = \"Type word 'leave' to leave this chat\" connection.sendto(message.encode(\"utf-8\"), address) message = \"{} has entered this chat.\".format(user) broadcast(message.encode(\"utf-8\"), connection) thread = threading.Thread(target=handle, args=(connection, )) thread.start() receive() \u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b\u044b client1.py, client2.py import socket import threading host = \"localhost\" port = 9090 client = socket.socket(socket.AF_INET, socket.SOCK_STREAM) client.connect((host, port)) user = input(\"What's your username? Enter it here, please: \") def receiving_message(): while True: message = client.recv(8192) message = message.decode(\"utf-8\") if message == \"What's your username?\": client.sendto(user.encode(\"utf-8\"), (host, port)) else: print(message) def sending_message(): while True: text = input(\"\") if text == \"leave\": client.sendto(text.encode(\"utf-8\"), (host, port)) print(\"You left this chat!\") client.close() break else: message = \"{}: {}\".format(user, text) client.sendto(message.encode(\"utf-8\"), (host, port)) receive_thread = threading.Thread(target=receiving_message) sending_thread = threading.Thread(target=sending_message) receive_thread.start() sending_thread.start() \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21165 \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u043e\u0439 web-\u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 GET \u0438 POST http \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 Python \u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 socket . \u0421\u0435\u0440\u0432\u0435\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0443\u043c\u0435\u0442\u044c \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u0438 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0435 \u0438 \u043e\u0446\u0435\u043d\u043a\u0435 \u043f\u043e \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0435, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432\u044b\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431\u043e \u0432\u0441\u0435\u0445 \u043e\u0446\u0435\u043d\u043a\u0430\u0445 \u043f\u043e \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0435 \u0432 \u0432\u0438\u0434\u0435 html-\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b. \u0424\u0430\u0439\u043b response.py \u0441 \u043a\u043b\u0430\u0441\u0441\u043e\u043c Response class Response: def __init__(self, status, reason, headers=None, body=None): self.status = status self.reason = reason self.headers = headers self.body = body \u0421\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b server.py import socket from response import Response class MyHTTPServer: def __init__(self, host, port): self.host = host self.port = port self.points = {\"Russian\": [\"100\", \"100\", \"99\"], \"Maths\": [\"100\", \"98\", \"99\", \"4\"], \"English\": [\"89\", \"90\", \"91\", \"92\", \"93\"]} def serve_forever(self): server = socket.socket(socket.AF_INET,socket.SOCK_STREAM) address = (self.host, self.port) try: server.bind(address) server.listen() while True: connection, address = server.accept() self.serve_client(connection) except KeyboardInterrupt: server.close() def serve_client(self, connection): try: data = connection.recv(4096) data = data.decode(\"utf-8\") request = self.parse_request(data) result = self.handle_request(request) self.send_response(connection, result) except Exception as exception_text: print(\"Client connection failed: \", exception_text) connection.close() def parse_request(self, data): request = data.rstrip('\\r\\n') text = request[:data.index(\"\\n\")].split() if len(text) != 3: raise Exception('Malformed request line') method, target, version = text if version != 'HTTP/1.1': raise Exception('Unexpected HTTP version') request = {'data': {}, 'method': method} if '?' in target: request['method'] = 'POST' data = target.split('?')[1].split('&') for value in data: index, info = value.split('=') request['data'][index] = info return request def handle_request(self, request): if request['method'] == 'POST': return self.handle_post(request) else: return self.handle_get() def handle_get(self): type = \"text/html; charset=utf-8\" first_settings = \"<html><head><style></style></head><body>\" course = \"<form><label>Name of discipline: </label><input name='course' /><br><br>\" points = \"<label>Number of points: </label><input name='points' /><br><br>\" button = \"<input type='submit'></form>\" body = first_settings + course + points + button for course_name in self.points: body += f\"<div><span>{course_name}: {self.points[course_name]}</span></div>\" second_settings = \"</body></html>\" body += second_settings body = body.encode(\"utf-8\") headers = [(\"Content-Type\", type), (\"Content-Length\", len(body))] return Response(200, \"OK\", headers, body) def handle_post(self, request): course = request[\"data\"][\"course\"] points = request[\"data\"][\"points\"] if course not in self.points: self.points[course] = [] if int(points) < 0 or int(points) > 103: raise Exception(\"Wrong number of points! Please, enter a number between 0 and 103.\") self.points[course].append(points) return self.handle_get() def send_response(self, connection, response): file = connection.makefile('wb') status_line = f\"HTTP/1.1 {response.status} {response.reason}\\r\\n\" status_line = status_line.encode(\"utf-8\") file.write(status_line) if response.headers: for (index, info) in response.headers: header_line = f\"{index}: {info}\\r\\n\" file.write(header_line.encode(\"utf-8\")) file.write(b\"\\r\\n\") if response.body: file.write(response.body) file.flush() file.close() def get_error(self, code, text): return Response(code, \"OK\", \"Content-Type: text/html; charset=utf-8\", text) if __name__ == '__main__': host = 'localhost' port = 9090 server = MyHTTPServer(host, port) try: server.serve_forever() except KeyboardInterrupt: pass","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21161"},{"location":"lab_work1/#no1","text":"","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21161"},{"location":"lab_work1/#no1_1","text":"\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0443\u044e \u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041a\u043b\u0438\u0435\u043d\u0442 \u043e\u0442\u0441\u044b\u043b\u0430\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u00abHello, server\u00bb. \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043e\u0442\u0440\u0430\u0437\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0421\u0435\u0440\u0432\u0435\u0440 \u0432 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442\u0441\u044b\u043b\u0430\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u00abHello, client\u00bb. \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c\u0441\u044f \u0443 \u043a\u043b\u0438\u0435\u043d\u0442\u0430. \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 socket . \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430 UDP. \u0421\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b server.py import socket sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM) sock.bind((\"127.0.0.1\", 9090)) sock.listen(1) while True: try: con, addr = sock.accept() data = con.recv(9111989) dec_data = data.decode(\"utf-8\") print(dec_data) con.send(b\"Hello, client\") finally: sock.close() break \u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b client.py import socket sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM) sock.connect((\"127.0.0.1\", 9090)) sock.send(b\"Hello, server \\n\") text=sock.recv(9111989) dec_data=text.decode(\"utf-8\") print(dec_data)","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21161"},{"location":"lab_work1/#no2","text":"\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0443\u044e \u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041a\u043b\u0438\u0435\u043d\u0442 \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442 \u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438, \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u0432\u043e\u0434\u044f\u0442\u0441\u044f \u0441 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b. \u0421\u0435\u0440\u0432\u0435\u0440 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0443. \u0412 \u043c\u043e\u0451\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u044b\u043b\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0441\u0447\u0451\u0442 \u043f\u043b\u043e\u0449\u0430\u0434\u0438 \u0442\u0440\u0430\u043f\u0435\u0446\u0438\u0438. \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 socket . \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430 TCP. \u0421\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b server.py import socket import math sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM) sock.bind((\"127.0.0.1\", 9090)) sock.listen(1) while True: try: con, addr = sock.accept() s = con.recv(9111989) s = s.decode(\"utf8\") s = s.split() a = int(s[0]) b = int(s[1]) h = int(s[2]) con.send(b\"S = \" + str(0.5*h*(a+b)).encode(\"utf-8\")) finally: sock.close() break \u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b client.py import socket sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM) a = input(\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043c\u0430\u043b\u043e\u0435 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0440\u0430\u043f\u0435\u0446\u0438\u0438:\") b = input(\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u043e\u0435 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0440\u0430\u043f\u0435\u0446\u0438\u0438:\") h = input(\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u044b\u0441\u043e\u0442\u0443 \u0442\u0440\u0430\u043f\u0435\u0446\u0438\u0438:\") s = a + \" \" + b + \" \" + h sock.connect((\"127.0.0.1\", 9090)) sock.send(s.encode(\"utf-8\")) text=sock.recv(9111989) udata=text.decode(\"utf-8\") print(udata)","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21162"},{"location":"lab_work1/#no3","text":"\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041a\u043b\u0438\u0435\u043d\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443. \u0412 \u043e\u0442\u0432\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 http-\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0435\u0435 html-\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e\u0434\u0433\u0440\u0443\u0436\u0430\u0435\u0442 \u0438\u0437 \u0444\u0430\u0439\u043b\u0430 index.html. \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 socket . \u0424\u0430\u0439\u043b index.html <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Ryan Gosling</title> </head> <body> <h1>Hello world!</h1> <article> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. </article> </body> </html> \u0421\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b server.py import socket s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) s.bind(('localhost', 9090)) s.listen(1) while True: conn, addr = s.accept() html_page = open('index.html') html_content = html_page.read() html_page.close() html_response = 'HTTP/1.0 200 OK\\n' + html_content conn.sendall(html_response.encode('utf-8')) conn.close() \u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b client.py import socket s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) s.connect(('localhost', 9090)) data = s.recv(9111989) print(data.decode('utf-8')) s.close()","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21163"},{"location":"lab_work1/#no4","text":"\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0432\u0443\u0445\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0438\u043b\u0438 \u043c\u043d\u043e\u0433\u043e\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0447\u0430\u0442. \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043c\u043d\u043e\u0433\u043e\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0447\u0430\u0441\u0430 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0430\u043b\u043b\u043e\u0432. \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 socket . \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 threading . \u0414\u043b\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e UDP, thearding \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0443 \u043a\u043b\u0438\u0435\u043d\u0442\u0430. \u0414\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441 TCP \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0418 \u043f\u0440\u0438\u0435\u043c \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0432\u0441\u0435\u043c \u044e\u0437\u0435\u0440\u0430\u043c \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u0432 \u043f\u043e\u0442\u043e\u043a\u0430\u0445. \u041d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u044e\u0437\u0435\u0440\u043e\u0432, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0442\u043e\u043c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0438\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u041c\u043d\u043e\u044e \u0431\u044b\u043b \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d TCP \u0432\u0430\u0440\u0438\u0430\u043d\u0442. \u0421\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b server.py import socket import threading host = \"localhost\" port = 9090 server = socket.socket(socket.AF_INET, socket.SOCK_STREAM) server.bind((host, port)) server.listen() print(\"The chat has been started!\") clients = [] users = [] def broadcast(message, client): for i in clients: if i != client: i.send(message) def handle(client): while True: message = client.recv(8192) if message.decode(\"utf-8\") == \"leave\": i = clients.index(client) clients.remove(client) client.close() user = users[i] users.remove(user) message = \"{} left the chat.\".format(user).encode(\"utf-8\") broadcast(message, client) break broadcast(message, client) def receive(): while True: connection, address = server.accept() message = \"What's your username?\" connection.sendto(message.encode(\"utf-8\"), address) user = connection.recv(8192) user = user.decode(\"utf-8\") users.append(user) clients.append(connection) message = \"You have entered the chat! Welcome!\" connection.sendto(message.encode(\"utf-8\"), address) message = \"Type word 'leave' to leave this chat\" connection.sendto(message.encode(\"utf-8\"), address) message = \"{} has entered this chat.\".format(user) broadcast(message.encode(\"utf-8\"), connection) thread = threading.Thread(target=handle, args=(connection, )) thread.start() receive() \u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b\u044b client1.py, client2.py import socket import threading host = \"localhost\" port = 9090 client = socket.socket(socket.AF_INET, socket.SOCK_STREAM) client.connect((host, port)) user = input(\"What's your username? Enter it here, please: \") def receiving_message(): while True: message = client.recv(8192) message = message.decode(\"utf-8\") if message == \"What's your username?\": client.sendto(user.encode(\"utf-8\"), (host, port)) else: print(message) def sending_message(): while True: text = input(\"\") if text == \"leave\": client.sendto(text.encode(\"utf-8\"), (host, port)) print(\"You left this chat!\") client.close() break else: message = \"{}: {}\".format(user, text) client.sendto(message.encode(\"utf-8\"), (host, port)) receive_thread = threading.Thread(target=receiving_message) sending_thread = threading.Thread(target=sending_message) receive_thread.start() sending_thread.start()","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21164"},{"location":"lab_work1/#no5","text":"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u043e\u0439 web-\u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 GET \u0438 POST http \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 Python \u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 socket . \u0421\u0435\u0440\u0432\u0435\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0443\u043c\u0435\u0442\u044c \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u0438 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0435 \u0438 \u043e\u0446\u0435\u043d\u043a\u0435 \u043f\u043e \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0435, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432\u044b\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431\u043e \u0432\u0441\u0435\u0445 \u043e\u0446\u0435\u043d\u043a\u0430\u0445 \u043f\u043e \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0435 \u0432 \u0432\u0438\u0434\u0435 html-\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b. \u0424\u0430\u0439\u043b response.py \u0441 \u043a\u043b\u0430\u0441\u0441\u043e\u043c Response class Response: def __init__(self, status, reason, headers=None, body=None): self.status = status self.reason = reason self.headers = headers self.body = body \u0421\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c, \u0444\u0430\u0439\u043b server.py import socket from response import Response class MyHTTPServer: def __init__(self, host, port): self.host = host self.port = port self.points = {\"Russian\": [\"100\", \"100\", \"99\"], \"Maths\": [\"100\", \"98\", \"99\", \"4\"], \"English\": [\"89\", \"90\", \"91\", \"92\", \"93\"]} def serve_forever(self): server = socket.socket(socket.AF_INET,socket.SOCK_STREAM) address = (self.host, self.port) try: server.bind(address) server.listen() while True: connection, address = server.accept() self.serve_client(connection) except KeyboardInterrupt: server.close() def serve_client(self, connection): try: data = connection.recv(4096) data = data.decode(\"utf-8\") request = self.parse_request(data) result = self.handle_request(request) self.send_response(connection, result) except Exception as exception_text: print(\"Client connection failed: \", exception_text) connection.close() def parse_request(self, data): request = data.rstrip('\\r\\n') text = request[:data.index(\"\\n\")].split() if len(text) != 3: raise Exception('Malformed request line') method, target, version = text if version != 'HTTP/1.1': raise Exception('Unexpected HTTP version') request = {'data': {}, 'method': method} if '?' in target: request['method'] = 'POST' data = target.split('?')[1].split('&') for value in data: index, info = value.split('=') request['data'][index] = info return request def handle_request(self, request): if request['method'] == 'POST': return self.handle_post(request) else: return self.handle_get() def handle_get(self): type = \"text/html; charset=utf-8\" first_settings = \"<html><head><style></style></head><body>\" course = \"<form><label>Name of discipline: </label><input name='course' /><br><br>\" points = \"<label>Number of points: </label><input name='points' /><br><br>\" button = \"<input type='submit'></form>\" body = first_settings + course + points + button for course_name in self.points: body += f\"<div><span>{course_name}: {self.points[course_name]}</span></div>\" second_settings = \"</body></html>\" body += second_settings body = body.encode(\"utf-8\") headers = [(\"Content-Type\", type), (\"Content-Length\", len(body))] return Response(200, \"OK\", headers, body) def handle_post(self, request): course = request[\"data\"][\"course\"] points = request[\"data\"][\"points\"] if course not in self.points: self.points[course] = [] if int(points) < 0 or int(points) > 103: raise Exception(\"Wrong number of points! Please, enter a number between 0 and 103.\") self.points[course].append(points) return self.handle_get() def send_response(self, connection, response): file = connection.makefile('wb') status_line = f\"HTTP/1.1 {response.status} {response.reason}\\r\\n\" status_line = status_line.encode(\"utf-8\") file.write(status_line) if response.headers: for (index, info) in response.headers: header_line = f\"{index}: {info}\\r\\n\" file.write(header_line.encode(\"utf-8\")) file.write(b\"\\r\\n\") if response.body: file.write(response.body) file.flush() file.close() def get_error(self, code, text): return Response(code, \"OK\", \"Content-Type: text/html; charset=utf-8\", text) if __name__ == '__main__': host = 'localhost' port = 9090 server = MyHTTPServer(host, port) try: server.serve_forever() except KeyboardInterrupt: pass","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21165"},{"location":"lab_work2/","text":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21162 \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u0425\u0440\u0430\u043d\u0438\u0442\u0441\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043d\u043e\u043c\u0435\u0440\u0435 \u0440\u0435\u0439\u0441\u0430, \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438, \u043e\u0442\u043b\u0435\u0442\u0435, \u043f\u0440\u0438\u043b\u0435\u0442\u0435, \u0442\u0438\u043f\u0435 (\u043f\u0440\u0438\u043b\u0435\u0442, \u043e\u0442\u043b\u0435\u0442), \u043d\u043e\u043c\u0435\u0440\u0435 \u0433\u0435\u0439\u0442\u0430. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b: \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439. \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438 \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442 \u043d\u0430 \u0440\u0435\u0439\u0441\u0430\u0445. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u0432\u043e\u0438\u0445 \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439. \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u0440\u0435\u0439\u0441 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430 \u0438 \u0432\u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043d\u043e\u043c\u0435\u0440 \u0435\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u0430 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 Django-admin. \u0412 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430, \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0449\u0430\u044f \u0432\u0441\u0435\u0445 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432 \u0440\u0435\u0439\u0441\u0430. \u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442\u0437\u044b\u0432\u043e\u0432 \u043a \u0440\u0435\u0439\u0441\u0430\u043c. \u041f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432, \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c\u0441\u044f \u0434\u0430\u0442\u0430 \u0440\u0435\u0439\u0441\u0430, \u0442\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f, \u0440\u0435\u0439\u0442\u0438\u043d\u0433 (1-10), \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0442\u043e\u0440\u0435. \u0424\u0430\u0439\u043b urls.py from django.urls import path from . import views urlpatterns = [ path('', views.index, name='index'), path('register', views.register, name='register'), path('login', views.login, name='login'), path('logout', views.logout, name='logout'), path('rooms', views.rooms, name='rooms'), path('room/<str:pk>', views.room, name='room'), path('reservation/<str:pk>', views.reservation, name='reservation'), path('profile', views.profile, name='book_list'), path('delete_res/<str:pk>', views.delete_reservation, name='delete_reservation'), path('edit_res/<str:pk>', views.edit_reservation, name='edit_reservation'), path('comment/<str:pk>', views.add_comment, name='add_comment'), path('lastmonth', views.show_last_month, name='last_month'), path('search_rooms', views.search_rooms, name='search_rooms') ] \u0424\u0430\u0439\u043b views.py rom django.shortcuts import render, redirect from django.contrib.auth.models import User, auth from django.contrib import messages from django.shortcuts import get_object_or_404 from .models import * from .forms import * from datetime import datetime, timedelta from django.contrib.auth.decorators import login_required from django.core.paginator import Paginator, EmptyPage def index(request): return render(request, 'index.html') def register(request): if request.method == 'POST': username = request.POST['username'] email = request.POST['email'] password = request.POST['password'] password2 = request.POST['password2'] if password == password2: if User.objects.filter(email=email).exists(): messages.info(request, 'Email already used!') return redirect('register') elif User.objects.filter(username=username).exists(): messages.info(request, 'Username already used!') return redirect('register') else: user = User.objects.create_user(username=username, email=email, password=password) user.save() return redirect('login') else: messages.info(request, 'Passwords dont match') return redirect('register') else: return render(request, 'register.html') def login(request): if request.method == 'POST': username = request.POST['username'] password = request.POST['password'] user = auth.authenticate(username=username, password=password) if user is not None: auth.login(request, user) return redirect('/') else: messages.info(request, 'User doesnt exists') return redirect('login') else: return render(request, 'login.html') @login_required def logout(request): auth.logout(request) return redirect('/') def rooms(request): free_rooms = Room.objects.filter(is_reserved=False) p = Paginator(free_rooms, 1) page_num = request.GET.get('page', 1) try: page = p.page(page_num) except EmptyPage: page = p.page(1) return render(request, 'rooms.html', {'rooms': page}) def search_rooms(request): searched = request.POST['search_value'] obj = Room.objects.filter(number=searched, is_reserved=False) return render(request, 'search_rooms.html', {'room': obj}) def room(request, pk): room = Room.objects.get(id=pk) comments = Comment.objects.filter(room=room) return render(request, 'room.html', {'room': room, 'comments': comments}) @login_required def reservation(request, pk): obj = get_object_or_404(Room, id=pk) user = request.user if request.method == \"POST\": form = ReservationForm(request.POST) if form['arrival_date'].value() != form['departure_date'].value(): if form.is_valid(): res = form.save(commit=False) res.user = user obj.is_reserved = True res.room = obj obj.save() res.save() return redirect('/') else: messages.info(request, 'Arrival and departure date are equal') else: form = ReservationForm() return render(request, 'reservation.html', {'form': form, 'room': obj}) @login_required def profile(request): user = request.user reservations = Reservation.objects.all().order_by('-reserve_time') return render(request, 'profile.html', {'reservations': reservations, 'user': user}) @login_required def delete_reservation(request, pk): obj = get_object_or_404(Reservation, id=pk) room = obj.room room.is_reserved = False room.save() obj.delete() return redirect('/profile') @login_required def edit_reservation(request, pk): obj = get_object_or_404(Reservation, id=pk) room = obj.room form = ReservationForm(request.POST or None, instance=obj) if form['arrival_date'].value() != form['departure_date'].value(): if form.is_valid(): res = form.save(commit=False) res.reserve_time = datetime.now() res.save() return redirect('/profile') else: messages.info(request, 'Arrival and departure date are equal') return render(request, 'reservation.html', {'form': form, 'room': room}) @login_required def add_comment(request, pk): obj = get_object_or_404(Room, id=pk) user = request.user if request.method == 'POST': form = CommentForm(request.POST) if form['text'].value(): if form['rate'].value(): if form.is_valid(): com = form.save(commit=False) com.user = user com.room = obj com.save() return redirect('/rooms') else: messages.info(request, 'You must rate the room!') else: messages.info(request, 'You should type something!') else: form = CommentForm() return render(request, 'comment.html', {'form': form}) @login_required def show_last_month(request): obj = Reservation.objects.filter(departure_date__gt=datetime.now() - timedelta(days=30)) print(datetime.now() - timedelta(30)) return render(request, 'lastmonth.html', {'objects': obj}) \u0424\u0430\u0439\u043b models.py from django.db import models from django.contrib.auth.models import User from datetime import datetime from django.core.validators import MaxValueValidator, MinValueValidator class Room(models.Model): number = models.IntegerField() type = models.CharField(max_length=100) max_occupancy = models.IntegerField() is_reserved = models.FloatField(default=False) class Reservation(models.Model): user = models.ForeignKey(User, on_delete=models.CASCADE) room = models.ForeignKey(Room, on_delete=models.CASCADE) reserve_time = models.DateTimeField(default=datetime.now, blank=True) arrival_date = models.DateTimeField(default=datetime.now, blank=True, null=True) departure_date = models.DateTimeField(default=datetime.now, blank=True, null=True) class Comment(models.Model): user = models.ForeignKey(User, on_delete=models.CASCADE) room = models.ForeignKey(Room, on_delete=models.CASCADE) create_time = models.DateTimeField(default=datetime.now, blank=True) text = models.CharField(max_length=100000, blank=True) rate = models.IntegerField(default=1, validators=[ MaxValueValidator(10), MinValueValidator(1) ]) \u0424\u0430\u0439\u043b views.py from django import forms from .models import * class ReservationForm(forms.ModelForm): class Meta: model = Reservation fields = ['arrival_date', 'departure_date'] exclude = ['user', 'room', 'reserve_time', 'comment'] class CommentForm(forms.ModelForm): class Meta: model = Comment widgets = { 'text': forms.Textarea(attrs={'rows': 30, 'cols': 100, 'placeholder': 'Type your comment...'}), } fields = ['text', 'rate'] exclude = ['user', 'create_time']","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21162"},{"location":"lab_work2/#no2","text":"","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21162"},{"location":"lab_work2/#_1","text":"\u0425\u0440\u0430\u043d\u0438\u0442\u0441\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043d\u043e\u043c\u0435\u0440\u0435 \u0440\u0435\u0439\u0441\u0430, \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438, \u043e\u0442\u043b\u0435\u0442\u0435, \u043f\u0440\u0438\u043b\u0435\u0442\u0435, \u0442\u0438\u043f\u0435 (\u043f\u0440\u0438\u043b\u0435\u0442, \u043e\u0442\u043b\u0435\u0442), \u043d\u043e\u043c\u0435\u0440\u0435 \u0433\u0435\u0439\u0442\u0430. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b: \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439. \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438 \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442 \u043d\u0430 \u0440\u0435\u0439\u0441\u0430\u0445. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u0432\u043e\u0438\u0445 \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439. \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u0440\u0435\u0439\u0441 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430 \u0438 \u0432\u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043d\u043e\u043c\u0435\u0440 \u0435\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u0430 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 Django-admin. \u0412 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430, \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0449\u0430\u044f \u0432\u0441\u0435\u0445 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432 \u0440\u0435\u0439\u0441\u0430. \u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442\u0437\u044b\u0432\u043e\u0432 \u043a \u0440\u0435\u0439\u0441\u0430\u043c. \u041f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432, \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c\u0441\u044f \u0434\u0430\u0442\u0430 \u0440\u0435\u0439\u0441\u0430, \u0442\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f, \u0440\u0435\u0439\u0442\u0438\u043d\u0433 (1-10), \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0442\u043e\u0440\u0435. \u0424\u0430\u0439\u043b urls.py from django.urls import path from . import views urlpatterns = [ path('', views.index, name='index'), path('register', views.register, name='register'), path('login', views.login, name='login'), path('logout', views.logout, name='logout'), path('rooms', views.rooms, name='rooms'), path('room/<str:pk>', views.room, name='room'), path('reservation/<str:pk>', views.reservation, name='reservation'), path('profile', views.profile, name='book_list'), path('delete_res/<str:pk>', views.delete_reservation, name='delete_reservation'), path('edit_res/<str:pk>', views.edit_reservation, name='edit_reservation'), path('comment/<str:pk>', views.add_comment, name='add_comment'), path('lastmonth', views.show_last_month, name='last_month'), path('search_rooms', views.search_rooms, name='search_rooms') ] \u0424\u0430\u0439\u043b views.py rom django.shortcuts import render, redirect from django.contrib.auth.models import User, auth from django.contrib import messages from django.shortcuts import get_object_or_404 from .models import * from .forms import * from datetime import datetime, timedelta from django.contrib.auth.decorators import login_required from django.core.paginator import Paginator, EmptyPage def index(request): return render(request, 'index.html') def register(request): if request.method == 'POST': username = request.POST['username'] email = request.POST['email'] password = request.POST['password'] password2 = request.POST['password2'] if password == password2: if User.objects.filter(email=email).exists(): messages.info(request, 'Email already used!') return redirect('register') elif User.objects.filter(username=username).exists(): messages.info(request, 'Username already used!') return redirect('register') else: user = User.objects.create_user(username=username, email=email, password=password) user.save() return redirect('login') else: messages.info(request, 'Passwords dont match') return redirect('register') else: return render(request, 'register.html') def login(request): if request.method == 'POST': username = request.POST['username'] password = request.POST['password'] user = auth.authenticate(username=username, password=password) if user is not None: auth.login(request, user) return redirect('/') else: messages.info(request, 'User doesnt exists') return redirect('login') else: return render(request, 'login.html') @login_required def logout(request): auth.logout(request) return redirect('/') def rooms(request): free_rooms = Room.objects.filter(is_reserved=False) p = Paginator(free_rooms, 1) page_num = request.GET.get('page', 1) try: page = p.page(page_num) except EmptyPage: page = p.page(1) return render(request, 'rooms.html', {'rooms': page}) def search_rooms(request): searched = request.POST['search_value'] obj = Room.objects.filter(number=searched, is_reserved=False) return render(request, 'search_rooms.html', {'room': obj}) def room(request, pk): room = Room.objects.get(id=pk) comments = Comment.objects.filter(room=room) return render(request, 'room.html', {'room': room, 'comments': comments}) @login_required def reservation(request, pk): obj = get_object_or_404(Room, id=pk) user = request.user if request.method == \"POST\": form = ReservationForm(request.POST) if form['arrival_date'].value() != form['departure_date'].value(): if form.is_valid(): res = form.save(commit=False) res.user = user obj.is_reserved = True res.room = obj obj.save() res.save() return redirect('/') else: messages.info(request, 'Arrival and departure date are equal') else: form = ReservationForm() return render(request, 'reservation.html', {'form': form, 'room': obj}) @login_required def profile(request): user = request.user reservations = Reservation.objects.all().order_by('-reserve_time') return render(request, 'profile.html', {'reservations': reservations, 'user': user}) @login_required def delete_reservation(request, pk): obj = get_object_or_404(Reservation, id=pk) room = obj.room room.is_reserved = False room.save() obj.delete() return redirect('/profile') @login_required def edit_reservation(request, pk): obj = get_object_or_404(Reservation, id=pk) room = obj.room form = ReservationForm(request.POST or None, instance=obj) if form['arrival_date'].value() != form['departure_date'].value(): if form.is_valid(): res = form.save(commit=False) res.reserve_time = datetime.now() res.save() return redirect('/profile') else: messages.info(request, 'Arrival and departure date are equal') return render(request, 'reservation.html', {'form': form, 'room': room}) @login_required def add_comment(request, pk): obj = get_object_or_404(Room, id=pk) user = request.user if request.method == 'POST': form = CommentForm(request.POST) if form['text'].value(): if form['rate'].value(): if form.is_valid(): com = form.save(commit=False) com.user = user com.room = obj com.save() return redirect('/rooms') else: messages.info(request, 'You must rate the room!') else: messages.info(request, 'You should type something!') else: form = CommentForm() return render(request, 'comment.html', {'form': form}) @login_required def show_last_month(request): obj = Reservation.objects.filter(departure_date__gt=datetime.now() - timedelta(days=30)) print(datetime.now() - timedelta(30)) return render(request, 'lastmonth.html', {'objects': obj}) \u0424\u0430\u0439\u043b models.py from django.db import models from django.contrib.auth.models import User from datetime import datetime from django.core.validators import MaxValueValidator, MinValueValidator class Room(models.Model): number = models.IntegerField() type = models.CharField(max_length=100) max_occupancy = models.IntegerField() is_reserved = models.FloatField(default=False) class Reservation(models.Model): user = models.ForeignKey(User, on_delete=models.CASCADE) room = models.ForeignKey(Room, on_delete=models.CASCADE) reserve_time = models.DateTimeField(default=datetime.now, blank=True) arrival_date = models.DateTimeField(default=datetime.now, blank=True, null=True) departure_date = models.DateTimeField(default=datetime.now, blank=True, null=True) class Comment(models.Model): user = models.ForeignKey(User, on_delete=models.CASCADE) room = models.ForeignKey(Room, on_delete=models.CASCADE) create_time = models.DateTimeField(default=datetime.now, blank=True) text = models.CharField(max_length=100000, blank=True) rate = models.IntegerField(default=1, validators=[ MaxValueValidator(10), MinValueValidator(1) ]) \u0424\u0430\u0439\u043b views.py from django import forms from .models import * class ReservationForm(forms.ModelForm): class Meta: model = Reservation fields = ['arrival_date', 'departure_date'] exclude = ['user', 'room', 'reserve_time', 'comment'] class CommentForm(forms.ModelForm): class Meta: model = Comment widgets = { 'text': forms.Textarea(attrs={'rows': 30, 'cols': 100, 'placeholder': 'Type your comment...'}), } fields = ['text', 'rate'] exclude = ['user', 'create_time']","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435"},{"location":"lab_work3/","text":"pyth# \u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21163 \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0430\u0439\u0442, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a Django 3 \u0438 \u0421\u0423\u0411\u0414 PostgreSQL *, \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u043c \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u043b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b: models.py from django.db import models from django.contrib.auth.models import AbstractUser class Organizer(AbstractUser): tel = models.CharField(verbose_name='phone number', max_length=15, null=True, blank=True) REQUIRED_FIELDS = ['first_name', 'last_name', 'tel'] def __str__(self): return self.username class Participant(models.Model): name = models.CharField(max_length=100) fandom_types = ( ('n', 'naruto'), ('h', 'harry potter'), ('s', 'supernatural'), ('d', 'doctor who') ) fandom = models.CharField(max_length=1, choices=fandom_types) age = models.IntegerField() character = models.CharField(max_length=1000) club = models.ForeignKey('Club', on_delete=models.CASCADE, null=True, blank=True ) def __str__(self): return self.name class Show(models.Model): year = models.IntegerField(primary_key=True) show_types = ( ('mono', 'mono-fandom'), ('poly', 'poly-fandom') ) type = models.CharField(max_length=4, choices=show_types) participants = models.ManyToManyField('Participant', # through='Participation', related_name='show_participants' ) def __str__(self): return str(self.year) class Participation(models.Model): participant = models.ForeignKey('Participant', on_delete=models.CASCADE) medal_types = ( ('g', 'gold'), ('s', 'silver'), ('b', 'bronze'), ) medal = models.CharField(max_length=1, choices=medal_types, null=True) stage = models.ManyToManyField('Stage', null=True, blank=True) dismissed = models.BooleanField() final_grade = models.IntegerField(blank=True, null=True) def __str__(self): return f'{self.participant}' class Expert(models.Model): name = models.CharField(max_length=50) last_name = models.CharField(max_length=50) club = models.CharField(max_length=100) def __str__(self): return f'{self.name} {self.last_name}' class Club(models.Model): name = models.CharField(max_length=100) members = models.ManyToManyField('Participant', related_name='club_members' ) def __str__(self): return self.name class Stage(models.Model): show = models.ForeignKey('Show', on_delete=models.CASCADE) experts = models.ManyToManyField('Expert', # through='Grade' related_name='stage_experts', null=True, blank=True ) fandom_types = ( ('n', 'naruto'), ('h', 'harry potter'), ('s', 'supernatural'), ('d', 'doctor who') ) fandom = models.CharField(max_length=1, choices=fandom_types) def __str__(self): return f'{self.show} {self.fandom}' views.py from rest_framework import generics from rest_framework.views import APIView, Response from .serializers import * from .models import * from django.db.models.aggregates import Count, Sum class ExpertAPIView(generics.RetrieveUpdateDestroyAPIView): serializer_class = ExpertSerializer queryset = Expert.objects.all() class ParticipationAPIList(generics.ListCreateAPIView): serializer_class = ParticipationSerializer queryset = Participation.objects.all() class ParticipantAPIList(generics.ListCreateAPIView): serializer_class = ParticipantSerializer queryset = Participant.objects.all() class StageParticipationAPIView(generics.RetrieveAPIView): serializer_class = StageParticipationSerializer queryset = Participation.objects.all() class ClubFandomsRetrieveAPIView(generics.RetrieveAPIView): serializer_class = ClubFandomsSerializer queryset = Club.objects.all() class DismissedCountAPIView(generics.RetrieveAPIView): serializer_class = DismissedCountSerializer queryset = Participation.objects.all() class FandomExpertsAPIView(generics.ListAPIView): serializer_class = FandomExpertsSerializer queryset = Stage.objects.all() class FandomCountAPIView(APIView): def get(self, request): fandom_count = Participant.objects \\ .values('fandom').annotate(count=Count('fandom')) content = {'fandom_count': fandom_count} return Response(content) class FandomCountAPIView(APIView): def get(self, request): fandom_count = Stage.objects \\ .values('fandom').annotate(count=Count('fandom')) content = {'fandom_count': fandom_count} return Response(content) class ReportAPIView(APIView): def get(self, request, year): participants = Show.objects.get(year=year).participants participant_count = participants.count() fandom_count = participants.values('fandom').annotate(count=Count('fandom')) best_grades = Participation.objects.filter(stage__show__year=year)\\ .values('participant')\\ .annotate(ex_sum=Sum('final_grade'))\\ .order_by() medals = Participation.objects.values('stage__fandom')\\ .annotate(medals_count=Count('medal')) content = {'participant_count': participant_count, 'fandoms': fandom_count, 'best_grades': best_grades, 'medals': medals} return Response(content) serializers.py from rest_framework import serializers from .models import * class ExpertSerializer(serializers.ModelSerializer): class Meta: model = Expert fields = \"__all__\" class ParticipationSerializer(serializers.ModelSerializer): class Meta: model = Participation fields = \"__all__\" class ParticipantSerializer(serializers.ModelSerializer): class Meta: model = Participant fields = \"__all__\" class StageParticipationSerializer(serializers.ModelSerializer): class Meta: model = Participation fields = [\"stage\"] class ParticipantFandomsSerializer(serializers.ModelSerializer): class Meta: model = Participant fields = [\"fandom\"] class ClubFandomsSerializer(serializers.ModelSerializer): members = ParticipantFandomsSerializer(many=True) class Meta: model = Club fields = [\"name\", \"members\"] class StageSerializer(serializers.ModelSerializer): class Meta: model = Stage fields = \"__all__\" class DismissedCountSerializer(serializers.ModelSerializer): dismissed_count = serializers.SerializerMethodField() class Meta: model = Participation fields = ['dismissed_count'] def get_dismissed_count(self, obj): return Participation.objects.filter(dismissed=True).count() class FandomExpertsSerializer(serializers.ModelSerializer): experts = ExpertSerializer(many=True) class Meta: model = Stage fields = [\"fandom\", \"experts\"] urls.py from django.urls import path from .views import * app_name = \"lab3_app\" urlpatterns = [ path('experts/<int:pk>', ExpertAPIView.as_view()), path('participation/', ParticipationAPIList.as_view()), path('participants/', ParticipantAPIList.as_view()), path('participant_stage/<int:pk>', StageParticipationAPIView.as_view()), path('club_fandoms/<int:pk>', ClubFandomsRetrieveAPIView.as_view()), path('dismissed_count/<int:pk>', DismissedCountAPIView.as_view()), path('fandom_experts/', FandomExpertsAPIView.as_view()), path('fandoms_count/', FandomCountAPIView.as_view()), path('report/<int:year>', ReportAPIView.as_view()), ] \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0443\u0447\u0430\u0441\u0442\u0438\u044f \u0412\u044b\u0432\u043e\u0434\u0438\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043a\u0430\u0436\u0434\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u043e\u0431 \u0443\u0447\u0430\u0441\u0442\u0438\u0438 URL : /participation/ Method : GET Auth required : YES Permissions required : None Data constraints : {} Success Responses Code : 200 OK Content : {[]} { \"Warriors\": [ { \"id\": 1, \"medal\": \"g\", \"dismissed\": false, \"final_grade\": 100, \"participant\": 1, \"stage\": [ 1 ] }, { \"id\": 2, \"medal\": \"b\", \"dismissed\": false, \"final_grade\": 61, \"participant\": 2, \"stage\": [ 2 ] }, { \"id\": 3, \"medal\": \"g\", \"dismissed\": false, \"final_grade\": 23, \"participant\": 1, \"stage\": [ 1 ] } ] }","title":"Lab work3"},{"location":"lab_work3/#_1","text":"\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0430\u0439\u0442, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a Django 3 \u0438 \u0421\u0423\u0411\u0414 PostgreSQL *, \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u043c \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u043b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b.","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435"},{"location":"lab_work3/#_2","text":"models.py from django.db import models from django.contrib.auth.models import AbstractUser class Organizer(AbstractUser): tel = models.CharField(verbose_name='phone number', max_length=15, null=True, blank=True) REQUIRED_FIELDS = ['first_name', 'last_name', 'tel'] def __str__(self): return self.username class Participant(models.Model): name = models.CharField(max_length=100) fandom_types = ( ('n', 'naruto'), ('h', 'harry potter'), ('s', 'supernatural'), ('d', 'doctor who') ) fandom = models.CharField(max_length=1, choices=fandom_types) age = models.IntegerField() character = models.CharField(max_length=1000) club = models.ForeignKey('Club', on_delete=models.CASCADE, null=True, blank=True ) def __str__(self): return self.name class Show(models.Model): year = models.IntegerField(primary_key=True) show_types = ( ('mono', 'mono-fandom'), ('poly', 'poly-fandom') ) type = models.CharField(max_length=4, choices=show_types) participants = models.ManyToManyField('Participant', # through='Participation', related_name='show_participants' ) def __str__(self): return str(self.year) class Participation(models.Model): participant = models.ForeignKey('Participant', on_delete=models.CASCADE) medal_types = ( ('g', 'gold'), ('s', 'silver'), ('b', 'bronze'), ) medal = models.CharField(max_length=1, choices=medal_types, null=True) stage = models.ManyToManyField('Stage', null=True, blank=True) dismissed = models.BooleanField() final_grade = models.IntegerField(blank=True, null=True) def __str__(self): return f'{self.participant}' class Expert(models.Model): name = models.CharField(max_length=50) last_name = models.CharField(max_length=50) club = models.CharField(max_length=100) def __str__(self): return f'{self.name} {self.last_name}' class Club(models.Model): name = models.CharField(max_length=100) members = models.ManyToManyField('Participant', related_name='club_members' ) def __str__(self): return self.name class Stage(models.Model): show = models.ForeignKey('Show', on_delete=models.CASCADE) experts = models.ManyToManyField('Expert', # through='Grade' related_name='stage_experts', null=True, blank=True ) fandom_types = ( ('n', 'naruto'), ('h', 'harry potter'), ('s', 'supernatural'), ('d', 'doctor who') ) fandom = models.CharField(max_length=1, choices=fandom_types) def __str__(self): return f'{self.show} {self.fandom}' views.py from rest_framework import generics from rest_framework.views import APIView, Response from .serializers import * from .models import * from django.db.models.aggregates import Count, Sum class ExpertAPIView(generics.RetrieveUpdateDestroyAPIView): serializer_class = ExpertSerializer queryset = Expert.objects.all() class ParticipationAPIList(generics.ListCreateAPIView): serializer_class = ParticipationSerializer queryset = Participation.objects.all() class ParticipantAPIList(generics.ListCreateAPIView): serializer_class = ParticipantSerializer queryset = Participant.objects.all() class StageParticipationAPIView(generics.RetrieveAPIView): serializer_class = StageParticipationSerializer queryset = Participation.objects.all() class ClubFandomsRetrieveAPIView(generics.RetrieveAPIView): serializer_class = ClubFandomsSerializer queryset = Club.objects.all() class DismissedCountAPIView(generics.RetrieveAPIView): serializer_class = DismissedCountSerializer queryset = Participation.objects.all() class FandomExpertsAPIView(generics.ListAPIView): serializer_class = FandomExpertsSerializer queryset = Stage.objects.all() class FandomCountAPIView(APIView): def get(self, request): fandom_count = Participant.objects \\ .values('fandom').annotate(count=Count('fandom')) content = {'fandom_count': fandom_count} return Response(content) class FandomCountAPIView(APIView): def get(self, request): fandom_count = Stage.objects \\ .values('fandom').annotate(count=Count('fandom')) content = {'fandom_count': fandom_count} return Response(content) class ReportAPIView(APIView): def get(self, request, year): participants = Show.objects.get(year=year).participants participant_count = participants.count() fandom_count = participants.values('fandom').annotate(count=Count('fandom')) best_grades = Participation.objects.filter(stage__show__year=year)\\ .values('participant')\\ .annotate(ex_sum=Sum('final_grade'))\\ .order_by() medals = Participation.objects.values('stage__fandom')\\ .annotate(medals_count=Count('medal')) content = {'participant_count': participant_count, 'fandoms': fandom_count, 'best_grades': best_grades, 'medals': medals} return Response(content) serializers.py from rest_framework import serializers from .models import * class ExpertSerializer(serializers.ModelSerializer): class Meta: model = Expert fields = \"__all__\" class ParticipationSerializer(serializers.ModelSerializer): class Meta: model = Participation fields = \"__all__\" class ParticipantSerializer(serializers.ModelSerializer): class Meta: model = Participant fields = \"__all__\" class StageParticipationSerializer(serializers.ModelSerializer): class Meta: model = Participation fields = [\"stage\"] class ParticipantFandomsSerializer(serializers.ModelSerializer): class Meta: model = Participant fields = [\"fandom\"] class ClubFandomsSerializer(serializers.ModelSerializer): members = ParticipantFandomsSerializer(many=True) class Meta: model = Club fields = [\"name\", \"members\"] class StageSerializer(serializers.ModelSerializer): class Meta: model = Stage fields = \"__all__\" class DismissedCountSerializer(serializers.ModelSerializer): dismissed_count = serializers.SerializerMethodField() class Meta: model = Participation fields = ['dismissed_count'] def get_dismissed_count(self, obj): return Participation.objects.filter(dismissed=True).count() class FandomExpertsSerializer(serializers.ModelSerializer): experts = ExpertSerializer(many=True) class Meta: model = Stage fields = [\"fandom\", \"experts\"] urls.py from django.urls import path from .views import * app_name = \"lab3_app\" urlpatterns = [ path('experts/<int:pk>', ExpertAPIView.as_view()), path('participation/', ParticipationAPIList.as_view()), path('participants/', ParticipantAPIList.as_view()), path('participant_stage/<int:pk>', StageParticipationAPIView.as_view()), path('club_fandoms/<int:pk>', ClubFandomsRetrieveAPIView.as_view()), path('dismissed_count/<int:pk>', DismissedCountAPIView.as_view()), path('fandom_experts/', FandomExpertsAPIView.as_view()), path('fandoms_count/', FandomCountAPIView.as_view()), path('report/<int:year>', ReportAPIView.as_view()), ]","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b:"},{"location":"lab_work3/#_3","text":"\u0412\u044b\u0432\u043e\u0434\u0438\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043a\u0430\u0436\u0434\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u043e\u0431 \u0443\u0447\u0430\u0441\u0442\u0438\u0438 URL : /participation/ Method : GET Auth required : YES Permissions required : None Data constraints : {}","title":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0443\u0447\u0430\u0441\u0442\u0438\u044f"},{"location":"lab_work3/#success-responses","text":"Code : 200 OK Content : {[]} { \"Warriors\": [ { \"id\": 1, \"medal\": \"g\", \"dismissed\": false, \"final_grade\": 100, \"participant\": 1, \"stage\": [ 1 ] }, { \"id\": 2, \"medal\": \"b\", \"dismissed\": false, \"final_grade\": 61, \"participant\": 2, \"stage\": [ 2 ] }, { \"id\": 3, \"medal\": \"g\", \"dismissed\": false, \"final_grade\": 23, \"participant\": 1, \"stage\": [ 1 ] } ] }","title":"Success Responses"},{"location":"lab_work4/","text":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21164 \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u0423\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0441 \u043e\u0434\u043d\u0438\u043c \u0438\u0437 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u0432 \u0434\u043b\u044f \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0439 \u0447\u0430\u0441\u0442\u044c\u044e \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0432\u0430\u0448\u0435\u0439 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u044c\u044e. \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438, \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0443\u0447\u0451\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0439 \u0447\u0430\u0441\u0442\u044c\u044e. \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0439 \u0447\u0430\u0441\u0442\u044c\u044e. \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c vuetify \u0438\u043b\u0438 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u0443\u044e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b: index.js import Vue from 'vue'; import VueRouter from 'vue-router'; import SignIn from '../views/profile/SignIn.vue' import SignUp from '../views/profile/SignUp.vue' import Home from '../views/Home.vue' import Profile from '../views/profile/Profile.vue' import ProfileEdit from '../views/profile/ProfileEdit.vue' import LogOut from '../views/profile/LogOut.vue' import ParticipationView from \"@/components/ParticipationView.vue\"; import ExpertsView from \"@/components/ExpertsView.vue\"; import ParticipantsView from \"@/components/ParticipantsView.vue\"; import CosRegister from \"@/views/profile/CosRegister.vue\"; import CosScoring from \"@/views/profile/CosScoring.vue\" Vue.use(VueRouter) const routes = [ { path: '/', name: 'home', component: Home }, { path: '/cosplay/signup', name: 'signup', component: SignUp }, { path: '/cosplay/logout', name: 'logout', component: LogOut }, { path: '/cosplay/signin', name: 'signin', component: SignIn }, { path: '/cosplay/profile', name: 'profile', component: Profile }, { path: '/cosplay/profile/edit', name: 'edit', component: ProfileEdit }, { path: '/about', name: 'about', // route level code-splitting // this generates a separate chunk (about.[hash].js) for this route // which is lazy-loaded when the route is visited. component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue') }, { path: '/participation', // \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 url-\u0430\u0434\u0440\u0435\u0441 component: ParticipationView // \u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 }, { path: '/experts', // \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 url-\u0430\u0434\u0440\u0435\u0441 component: ExpertsView // \u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 }, { path: '/participants', // \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 url-\u0430\u0434\u0440\u0435\u0441 component: ParticipantsView // \u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 }, { path: '/cosplay/profile/reg', name: 'reg', component: CosRegister }, { path: 'cosplay/profile/scoring', name: 'scoring', component: CosScoring } ] const router = new VueRouter({ mode: 'history', base: process.env.BASE_URL, routes }) export default router \u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 Home.vue <template> <div> <v-card elevation=\"2\" outlined class=\"my-2\" > <v-card-title> <h2>\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u0444\u0435\u0441\u0442\u0438\u0432\u0430\u043b\u044c \u043a\u043e\u0441\u043f\u043b\u0435\u0435\u0432!</h2> </v-card-title> <v-card-text> <h3> <a href=\"/participation\" style=\"text-decoration: none;\">\u0423\u0447\u0430\u0441\u0442\u0438\u044f</a><br> <a href=\"/experts\" style=\"text-decoration: none;\">\u042d\u043a\u0441\u043f\u0435\u0440\u0442\u044b</a><br> <a href=\"/participants\" style=\"text-decoration: none;\">\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438</a> <br> <template v-if=\"this.authorized\"> <a @click=\"goProfile\">\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442</a><br> <a @click=\"goLogOut\">\u0412\u044b\u0439\u0442\u0438</a><br> </template> <template v-else> <a @click=\"goSignIn\">\u0412\u043e\u0439\u0442\u0438</a><br> <router-link to=\"/cosplay/signup\">\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f</router-link> </template> </h3> </v-card-text> </v-card> </div> </template> <script> // @ is an alias to /src /* eslint-disable */ export default { name: 'Home', data: () => ({ authorized: false }), created () { console.log('token is ' + sessionStorage.getItem('auth_token')) console.log('username is ' + sessionStorage.getItem('username')) if (sessionStorage.getItem('auth_token')) { if (sessionStorage.getItem('auth_token') !== '-1') { this.authorized = true } } }, methods: { goProfile () { this.$router.push({ name: 'profile' }) }, goLogOut () { this.$router.push({ name: 'logout' }) }, goSignIn () { this.$router.push({ name: 'signin' }) } } } </script> \u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 SignIn.vue <template> <div class=\"signIn\"> <h2>\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f</h2> <form @submit.prevent=\"setLogin\" ref=\"signInForm\" class=\"my-2\"> <input type=\"text\" label=\"\u041b\u043e\u0433\u0438\u043d\" placeholder=\"\u041b\u043e\u0433\u0438\u043d\" v-model=\"login\" name=\"login\"> <input label=\"\u041f\u0430\u0440\u043e\u043b\u044c\" placeholder=\"\u041f\u0430\u0440\u043e\u043b\u044c\" v-model=\"password\" name=\"password\" type=\"password\"> <button type=\"submit\">\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f</button> </form> <p class=\"mt-15\">\u0415\u0449\u0451 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?<br> <router-link to=\"/show/signup\">\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f</router-link></p> </div> </template> <script> /* eslint-disable */ import $ from \"jquery\"; import axios from \"axios\"; export default { name: \"AuthModals\", data() { return { login: '', password: '', } }, methods: { setLogin() { $.ajax({ url: \"http://127.0.0.1:8000/auth/token/login\", type: \"POST\", data: { username: this.login, password: this.password }, success: (response) => { alert(\"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u0430\") sessionStorage.setItem(\"auth_token\", response.auth_token) sessionStorage.setItem(\"username\", this.login) this.$router.push({name: \"home\"}) }, error: (response) => { if (response.status === 400) { alert(\"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c\") } } }) } } } </script> <style> </style> SignUp.vue <template> <div class=\"signup\"> <h2>\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f</h2> <form @submit.prevent=\"signUp\" ref=\"signUpForm\" class=\"my-2\"> <input type=\"text\" label=\"\u041b\u043e\u0433\u0438\u043d\" placeholder=\"\u041b\u043e\u0433\u0438\u043d\" v-model=\"login\" name=\"login\"> <input label=\"\u041f\u0430\u0440\u043e\u043b\u044c\" placeholder=\"\u041f\u0430\u0440\u043e\u043b\u044c\" v-model=\"password\" name=\"password\" type=\"password\"> <button type=\"submit\">\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f</button> </form> <p class=\"mt-15\">\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? <router-link to=\"/cosplay/signin\">\u0412\u043e\u0439\u0442\u0438</router-link></p> </div> </template> <script> /* eslint-disable */ import $ from \"jquery\"; export default { name: 'SignUp', data() { return { login: '', password: '', } }, methods: { async signUp () { console.log(\"1\") $.ajax({ type: \"POST\", data: { username: this.login, password: this.password }, url: \"http://127.0.0.1:8000/auth/users/\" }).done(function () { console.log(this.data) alert(\"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c \u043d\u0430 \u0441\u0430\u0439\u0442\u0435\") //this.$router.push({ name: 'signin' }) }); } } } </script> <style> </style> SignOut.vue <script> import axios from 'axios' /* eslint-disable */ //Vue.prototype.$axios = axios //import Vue from 'vue' export default { name: 'LogOut', methods: { LogOut () { try { const token = sessionStorage.getItem('auth_token') if (token) { const data = {} console.log(token) //this.axios.defaults.headers.common.Authorization = `token ${token}` //console.log(this.axios) sessionStorage.setItem('auth_token', '-1') //console.log('h ' + token) axios.post('http://127.0.0.1:8000/auth/token/logout/', data, { headers: { 'Authorization': `token ${token}` } }).then(response => { console.log('SIGN OUT RESPONSE', response) // localStorage.removeItem('token') // this.$bus.$emit('logged', 'User logged out') this.$router.push({ name: 'home' }) }) } } catch (e) { console.error('AN API ERROR', e) } } }, created () { this.LogOut() } } </script> <style scoped> </style> Profile.vue <template> <div class=\"edit\"> <h2>\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442</h2> <h3>\u0412\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u043a\u0430\u043a: {{login ()}}</h3> <v-card> <v-card-text style=\"margin-top:1cm\"> <div class=\"text--primary\"> \u0418\u043c\u044f: <b>{{ this.first_name }}</b> <br> \u0424\u0430\u043c\u0438\u043b\u0438\u044f: <b>{{ this.last_name }} </b><br> \u0422\u0435\u043b\u0435\u0444\u043e\u043d: <b>{{ this.tel }} </b><br> </div><br><br> <a @click.prevent=\"goRegister\">\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430</a> <br> <a @click.prevent=\"goScore\">\u041e\u0446\u0435\u043d\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430</a> <br> <a @click.prevent=\"goEdit\">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c</a> <br> <a @click.prevent=\"goHome\">\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e</a> </v-card-text> </v-card> </div> </template> <script> /* eslint-disable */ export default { name: 'Profile', data () { return { first_name: '', last_name: '', tel: '', } }, created () { this.loadInfo() }, methods: { async loadInfo () { const response = await this.axios .get('http://127.0.0.1:8000/auth/users/me/', { headers: { Authorization: `Token ${sessionStorage.getItem('auth_token')}` } }) this.first_name = response.data.first_name this.last_name = response.data.last_name this.tel = response.data.tel }, goHome () { this.$router.push({ name: 'home' }) }, goRegister () { this.$router.push({ name: 'reg' }) }, goScore () { this.$router.push({ name: 'scoring' }) }, goEdit () { this.$router.push({ name: 'edit' }) }, login () { return (sessionStorage.getItem('username')) } } } </script> <style> </style> ProfileEdit.vue <template> <div class=\"edit\"> <h2>\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f</h2> <v-form @submit.prevent=\"saveChanges\" ref=\"changeForm\" class=\"my-2\"> <v-row> <v-col cols=\"5\" class=\"mx-auto\"> <v-text-field label=\"\u0418\u043c\u044f\" v-model=\"changeForm.first_name\" name=\"first_name\"/> <v-text-field label=\"\u0424\u0430\u043c\u0438\u043b\u0438\u044f\" v-model=\"changeForm.last_name\" name=\"last_name\"/> <v-text-field label=\"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\" v-model=\"changeForm.tel\" name=\"tel\"/> <v-btn type=\"submit\" color=\"primary\" dark>\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c</v-btn> </v-col> </v-row> </v-form> <p class=\"mt-15\"><router-link to=\"/cosplay/profile\">\u041d\u0430\u0437\u0430\u0434</router-link></p> </div> </template> <script> export default { name: 'ProfileEdit', data: () => ({ participant_old: Object, changeForm: { first_name: '', last_name: '', tel: '', }, }), methods: { async loadReaderData () { const response = await this.axios .get('http://127.0.0.1:8000/auth/users/me/', { headers: { Authorization: `Token ${sessionStorage.getItem('auth_token')}` } }) this.participant_old = response.data this.changeForm.first_name = response.data.first_name this.changeForm.last_name = response.data.last_name this.changeForm.tel = response.data.tel }, async saveChanges () { for (const [key, value] of Object.entries(this.changeForm)) { if (value === '') { delete this.changeForm[key] } } try { const response = await this.axios .patch('http://127.0.0.1:8000/auth/users/me/', this.changeForm, { headers: { Authorization: `Token ${sessionStorage.getItem('auth_token')}` } }) console.log(response) this.$refs.changeForm.reset() await this.$router.push({ name: 'profile' }) } catch (e) { console.error(e.message) } } } } </script> <style> </style> CosRegister.vue <template> <div class=\"edit\"> <h3>\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430</h3> <v-form @submit.prevent=\"signCos\" ref=\"editForm\" class=\"my-2\"> <v-row> <v-col cols=\"5\" class=\"mx-auto\"> <v-text-field label=\"\u041d\u0438\u043a\u043d\u0435\u0439\u043c\" v-model=\"editForm.name\" name=\"name\"/> <v-select v-model=\"editForm.fandom\" :items=\"options\" name=\"fandom\" label=\"\u0424\u0430\u043d\u0434\u043e\u043c\" ></v-select> <v-text-field label=\"\u0412\u043e\u0437\u0440\u0430\u0441\u0442\" v-model=\"editForm.age\" name=\"age\" type=\"number\"/> <v-text-field label=\"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\" v-model=\"editForm.character\" name=\"character\"/> <v-btn type=\"submit\" color=\"primary\" dark>\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c</v-btn> </v-col> </v-row> </v-form> <v-card> <v-card-text style=\"margin-top:1cm\"> <a @click.prevent=\"goProfile\">\u041d\u0430\u0437\u0430\u0434</a> </v-card-text> </v-card> </div> </template> <script> import $ from \"jquery\"; export default { name: 'CosRegister', data: () => ({ editForm: { name: '', fandom: '', age: '', character: '', }, options: ['n', 'h', 's', 'd'], }), methods: { async signCos () { console.log(1) $.ajax({ type: \"POST\", data: { name: this.editForm.name, fandom: this.editForm.fandom, age: this.editForm.age, character: this.editForm.character }, url: \"http://127.0.0.1:8000/participants/\" }).done(function () { console.log(this.data) alert(\"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\") }); }, goProfile () { this.$router.push({ name: 'profile' }) }, } } </script> CosScoring.vue <template> <div class=\"edit\"> <h2>\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442</h2> <h3>\u0424\u043e\u0440\u043c\u0430 \u043e\u0446\u0435\u043d\u0438\u0432\u0430\u043d\u0438\u044f \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430</h3> <v-form @submit.prevent=\"signPart\" ref=\"editFormPart\" class=\"my-2\"> <v-row> <v-col cols=\"5\" class=\"mx-auto\"> <v-select v-model=\"editFormPart.participant\" :items=\"participants\" item-text=\"name\" item-value=\"id\" name=\"participant\" label=\"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\" ></v-select> <v-select v-model=\"editFormPart.medal\" :items=\"medals\" name=\"medal\" label=\"\u041c\u0435\u0434\u0430\u043b\u044c\" ></v-select> <v-checkbox v-model=\"editFormPart.dismissed\" :label=\"'\u0414\u0438\u0441\u043a\u0432\u0430\u043b\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f'\" input-value=\"true\" ></v-checkbox> <v-text-field label=\"\u041e\u0446\u0435\u043d\u043a\u0430\" v-model=\"editFormPart.final_grade\" type='number' name=\"final_grade\"/> <v-btn type=\"submit\" color=\"primary\" dark>\u041e\u0446\u0435\u043d\u0438\u0442\u044c</v-btn> </v-col> </v-row> </v-form> <v-card> <v-card-text style=\"margin-top:1cm\"> <a @click.prevent=\"goHome\">\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e</a> </v-card-text> </v-card> </div> </template> <script> import $ from \"jquery\"; const array1 = []; import axios from \"axios\"; export default { name: 'CosScoring', data: () => ({ editFormPart: { medal: \"\", dismissed: \"\", final_grade: \"\", participant: \"\", }, medals: ['g', 's', 'b'], participants: array1, }), methods: { async signPart() { console.log(1) $.ajax({ type: \"POST\", data: { medal: this.editFormPart.medal, dismissed: this.editFormPart.dismissed, final_grade: this.editFormPart.final_grade, participant: this.editFormPart.participant, }, url: \"http://127.0.0.1:8000/participation/\" }).done(function () { console.log(this.data) alert(\"\u0413\u043e\u0442\u043e\u0432\u043e\") }); }, goHome() { this.$router.push({name: 'home'}) } }, beforeMount: function () { this.$nextTick(async function () { const response = await axios.get('http://127.0.0.1:8000/participants/?format=json') for (let part of response.data) { array1.push(part); } }) } } </script>","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21164"},{"location":"lab_work4/#no4","text":"","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21164"},{"location":"lab_work4/#_1","text":"\u0423\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0441 \u043e\u0434\u043d\u0438\u043c \u0438\u0437 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u0432 \u0434\u043b\u044f \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0439 \u0447\u0430\u0441\u0442\u044c\u044e \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0432\u0430\u0448\u0435\u0439 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043d\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u044c\u044e. \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438, \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0443\u0447\u0451\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0439 \u0447\u0430\u0441\u0442\u044c\u044e. \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0439 \u0447\u0430\u0441\u0442\u044c\u044e. \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c vuetify \u0438\u043b\u0438 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u0443\u044e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443.","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435"},{"location":"lab_work4/#_2","text":"index.js import Vue from 'vue'; import VueRouter from 'vue-router'; import SignIn from '../views/profile/SignIn.vue' import SignUp from '../views/profile/SignUp.vue' import Home from '../views/Home.vue' import Profile from '../views/profile/Profile.vue' import ProfileEdit from '../views/profile/ProfileEdit.vue' import LogOut from '../views/profile/LogOut.vue' import ParticipationView from \"@/components/ParticipationView.vue\"; import ExpertsView from \"@/components/ExpertsView.vue\"; import ParticipantsView from \"@/components/ParticipantsView.vue\"; import CosRegister from \"@/views/profile/CosRegister.vue\"; import CosScoring from \"@/views/profile/CosScoring.vue\" Vue.use(VueRouter) const routes = [ { path: '/', name: 'home', component: Home }, { path: '/cosplay/signup', name: 'signup', component: SignUp }, { path: '/cosplay/logout', name: 'logout', component: LogOut }, { path: '/cosplay/signin', name: 'signin', component: SignIn }, { path: '/cosplay/profile', name: 'profile', component: Profile }, { path: '/cosplay/profile/edit', name: 'edit', component: ProfileEdit }, { path: '/about', name: 'about', // route level code-splitting // this generates a separate chunk (about.[hash].js) for this route // which is lazy-loaded when the route is visited. component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue') }, { path: '/participation', // \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 url-\u0430\u0434\u0440\u0435\u0441 component: ParticipationView // \u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 }, { path: '/experts', // \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 url-\u0430\u0434\u0440\u0435\u0441 component: ExpertsView // \u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 }, { path: '/participants', // \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 url-\u0430\u0434\u0440\u0435\u0441 component: ParticipantsView // \u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 }, { path: '/cosplay/profile/reg', name: 'reg', component: CosRegister }, { path: 'cosplay/profile/scoring', name: 'scoring', component: CosScoring } ] const router = new VueRouter({ mode: 'history', base: process.env.BASE_URL, routes }) export default router","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b:"},{"location":"lab_work4/#_3","text":"Home.vue <template> <div> <v-card elevation=\"2\" outlined class=\"my-2\" > <v-card-title> <h2>\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u0444\u0435\u0441\u0442\u0438\u0432\u0430\u043b\u044c \u043a\u043e\u0441\u043f\u043b\u0435\u0435\u0432!</h2> </v-card-title> <v-card-text> <h3> <a href=\"/participation\" style=\"text-decoration: none;\">\u0423\u0447\u0430\u0441\u0442\u0438\u044f</a><br> <a href=\"/experts\" style=\"text-decoration: none;\">\u042d\u043a\u0441\u043f\u0435\u0440\u0442\u044b</a><br> <a href=\"/participants\" style=\"text-decoration: none;\">\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438</a> <br> <template v-if=\"this.authorized\"> <a @click=\"goProfile\">\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442</a><br> <a @click=\"goLogOut\">\u0412\u044b\u0439\u0442\u0438</a><br> </template> <template v-else> <a @click=\"goSignIn\">\u0412\u043e\u0439\u0442\u0438</a><br> <router-link to=\"/cosplay/signup\">\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f</router-link> </template> </h3> </v-card-text> </v-card> </div> </template> <script> // @ is an alias to /src /* eslint-disable */ export default { name: 'Home', data: () => ({ authorized: false }), created () { console.log('token is ' + sessionStorage.getItem('auth_token')) console.log('username is ' + sessionStorage.getItem('username')) if (sessionStorage.getItem('auth_token')) { if (sessionStorage.getItem('auth_token') !== '-1') { this.authorized = true } } }, methods: { goProfile () { this.$router.push({ name: 'profile' }) }, goLogOut () { this.$router.push({ name: 'logout' }) }, goSignIn () { this.$router.push({ name: 'signin' }) } } } </script>","title":"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"},{"location":"lab_work4/#_4","text":"SignIn.vue <template> <div class=\"signIn\"> <h2>\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f</h2> <form @submit.prevent=\"setLogin\" ref=\"signInForm\" class=\"my-2\"> <input type=\"text\" label=\"\u041b\u043e\u0433\u0438\u043d\" placeholder=\"\u041b\u043e\u0433\u0438\u043d\" v-model=\"login\" name=\"login\"> <input label=\"\u041f\u0430\u0440\u043e\u043b\u044c\" placeholder=\"\u041f\u0430\u0440\u043e\u043b\u044c\" v-model=\"password\" name=\"password\" type=\"password\"> <button type=\"submit\">\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f</button> </form> <p class=\"mt-15\">\u0415\u0449\u0451 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?<br> <router-link to=\"/show/signup\">\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f</router-link></p> </div> </template> <script> /* eslint-disable */ import $ from \"jquery\"; import axios from \"axios\"; export default { name: \"AuthModals\", data() { return { login: '', password: '', } }, methods: { setLogin() { $.ajax({ url: \"http://127.0.0.1:8000/auth/token/login\", type: \"POST\", data: { username: this.login, password: this.password }, success: (response) => { alert(\"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u0430\") sessionStorage.setItem(\"auth_token\", response.auth_token) sessionStorage.setItem(\"username\", this.login) this.$router.push({name: \"home\"}) }, error: (response) => { if (response.status === 400) { alert(\"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c\") } } }) } } } </script> <style> </style> SignUp.vue <template> <div class=\"signup\"> <h2>\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f</h2> <form @submit.prevent=\"signUp\" ref=\"signUpForm\" class=\"my-2\"> <input type=\"text\" label=\"\u041b\u043e\u0433\u0438\u043d\" placeholder=\"\u041b\u043e\u0433\u0438\u043d\" v-model=\"login\" name=\"login\"> <input label=\"\u041f\u0430\u0440\u043e\u043b\u044c\" placeholder=\"\u041f\u0430\u0440\u043e\u043b\u044c\" v-model=\"password\" name=\"password\" type=\"password\"> <button type=\"submit\">\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f</button> </form> <p class=\"mt-15\">\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? <router-link to=\"/cosplay/signin\">\u0412\u043e\u0439\u0442\u0438</router-link></p> </div> </template> <script> /* eslint-disable */ import $ from \"jquery\"; export default { name: 'SignUp', data() { return { login: '', password: '', } }, methods: { async signUp () { console.log(\"1\") $.ajax({ type: \"POST\", data: { username: this.login, password: this.password }, url: \"http://127.0.0.1:8000/auth/users/\" }).done(function () { console.log(this.data) alert(\"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c \u043d\u0430 \u0441\u0430\u0439\u0442\u0435\") //this.$router.push({ name: 'signin' }) }); } } } </script> <style> </style> SignOut.vue <script> import axios from 'axios' /* eslint-disable */ //Vue.prototype.$axios = axios //import Vue from 'vue' export default { name: 'LogOut', methods: { LogOut () { try { const token = sessionStorage.getItem('auth_token') if (token) { const data = {} console.log(token) //this.axios.defaults.headers.common.Authorization = `token ${token}` //console.log(this.axios) sessionStorage.setItem('auth_token', '-1') //console.log('h ' + token) axios.post('http://127.0.0.1:8000/auth/token/logout/', data, { headers: { 'Authorization': `token ${token}` } }).then(response => { console.log('SIGN OUT RESPONSE', response) // localStorage.removeItem('token') // this.$bus.$emit('logged', 'User logged out') this.$router.push({ name: 'home' }) }) } } catch (e) { console.error('AN API ERROR', e) } } }, created () { this.LogOut() } } </script> <style scoped> </style> Profile.vue <template> <div class=\"edit\"> <h2>\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442</h2> <h3>\u0412\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u043a\u0430\u043a: {{login ()}}</h3> <v-card> <v-card-text style=\"margin-top:1cm\"> <div class=\"text--primary\"> \u0418\u043c\u044f: <b>{{ this.first_name }}</b> <br> \u0424\u0430\u043c\u0438\u043b\u0438\u044f: <b>{{ this.last_name }} </b><br> \u0422\u0435\u043b\u0435\u0444\u043e\u043d: <b>{{ this.tel }} </b><br> </div><br><br> <a @click.prevent=\"goRegister\">\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430</a> <br> <a @click.prevent=\"goScore\">\u041e\u0446\u0435\u043d\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430</a> <br> <a @click.prevent=\"goEdit\">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c</a> <br> <a @click.prevent=\"goHome\">\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e</a> </v-card-text> </v-card> </div> </template> <script> /* eslint-disable */ export default { name: 'Profile', data () { return { first_name: '', last_name: '', tel: '', } }, created () { this.loadInfo() }, methods: { async loadInfo () { const response = await this.axios .get('http://127.0.0.1:8000/auth/users/me/', { headers: { Authorization: `Token ${sessionStorage.getItem('auth_token')}` } }) this.first_name = response.data.first_name this.last_name = response.data.last_name this.tel = response.data.tel }, goHome () { this.$router.push({ name: 'home' }) }, goRegister () { this.$router.push({ name: 'reg' }) }, goScore () { this.$router.push({ name: 'scoring' }) }, goEdit () { this.$router.push({ name: 'edit' }) }, login () { return (sessionStorage.getItem('username')) } } } </script> <style> </style> ProfileEdit.vue <template> <div class=\"edit\"> <h2>\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f</h2> <v-form @submit.prevent=\"saveChanges\" ref=\"changeForm\" class=\"my-2\"> <v-row> <v-col cols=\"5\" class=\"mx-auto\"> <v-text-field label=\"\u0418\u043c\u044f\" v-model=\"changeForm.first_name\" name=\"first_name\"/> <v-text-field label=\"\u0424\u0430\u043c\u0438\u043b\u0438\u044f\" v-model=\"changeForm.last_name\" name=\"last_name\"/> <v-text-field label=\"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\" v-model=\"changeForm.tel\" name=\"tel\"/> <v-btn type=\"submit\" color=\"primary\" dark>\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c</v-btn> </v-col> </v-row> </v-form> <p class=\"mt-15\"><router-link to=\"/cosplay/profile\">\u041d\u0430\u0437\u0430\u0434</router-link></p> </div> </template> <script> export default { name: 'ProfileEdit', data: () => ({ participant_old: Object, changeForm: { first_name: '', last_name: '', tel: '', }, }), methods: { async loadReaderData () { const response = await this.axios .get('http://127.0.0.1:8000/auth/users/me/', { headers: { Authorization: `Token ${sessionStorage.getItem('auth_token')}` } }) this.participant_old = response.data this.changeForm.first_name = response.data.first_name this.changeForm.last_name = response.data.last_name this.changeForm.tel = response.data.tel }, async saveChanges () { for (const [key, value] of Object.entries(this.changeForm)) { if (value === '') { delete this.changeForm[key] } } try { const response = await this.axios .patch('http://127.0.0.1:8000/auth/users/me/', this.changeForm, { headers: { Authorization: `Token ${sessionStorage.getItem('auth_token')}` } }) console.log(response) this.$refs.changeForm.reset() await this.$router.push({ name: 'profile' }) } catch (e) { console.error(e.message) } } } } </script> <style> </style> CosRegister.vue <template> <div class=\"edit\"> <h3>\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430</h3> <v-form @submit.prevent=\"signCos\" ref=\"editForm\" class=\"my-2\"> <v-row> <v-col cols=\"5\" class=\"mx-auto\"> <v-text-field label=\"\u041d\u0438\u043a\u043d\u0435\u0439\u043c\" v-model=\"editForm.name\" name=\"name\"/> <v-select v-model=\"editForm.fandom\" :items=\"options\" name=\"fandom\" label=\"\u0424\u0430\u043d\u0434\u043e\u043c\" ></v-select> <v-text-field label=\"\u0412\u043e\u0437\u0440\u0430\u0441\u0442\" v-model=\"editForm.age\" name=\"age\" type=\"number\"/> <v-text-field label=\"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\" v-model=\"editForm.character\" name=\"character\"/> <v-btn type=\"submit\" color=\"primary\" dark>\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c</v-btn> </v-col> </v-row> </v-form> <v-card> <v-card-text style=\"margin-top:1cm\"> <a @click.prevent=\"goProfile\">\u041d\u0430\u0437\u0430\u0434</a> </v-card-text> </v-card> </div> </template> <script> import $ from \"jquery\"; export default { name: 'CosRegister', data: () => ({ editForm: { name: '', fandom: '', age: '', character: '', }, options: ['n', 'h', 's', 'd'], }), methods: { async signCos () { console.log(1) $.ajax({ type: \"POST\", data: { name: this.editForm.name, fandom: this.editForm.fandom, age: this.editForm.age, character: this.editForm.character }, url: \"http://127.0.0.1:8000/participants/\" }).done(function () { console.log(this.data) alert(\"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\") }); }, goProfile () { this.$router.push({ name: 'profile' }) }, } } </script> CosScoring.vue <template> <div class=\"edit\"> <h2>\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442</h2> <h3>\u0424\u043e\u0440\u043c\u0430 \u043e\u0446\u0435\u043d\u0438\u0432\u0430\u043d\u0438\u044f \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430</h3> <v-form @submit.prevent=\"signPart\" ref=\"editFormPart\" class=\"my-2\"> <v-row> <v-col cols=\"5\" class=\"mx-auto\"> <v-select v-model=\"editFormPart.participant\" :items=\"participants\" item-text=\"name\" item-value=\"id\" name=\"participant\" label=\"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\" ></v-select> <v-select v-model=\"editFormPart.medal\" :items=\"medals\" name=\"medal\" label=\"\u041c\u0435\u0434\u0430\u043b\u044c\" ></v-select> <v-checkbox v-model=\"editFormPart.dismissed\" :label=\"'\u0414\u0438\u0441\u043a\u0432\u0430\u043b\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f'\" input-value=\"true\" ></v-checkbox> <v-text-field label=\"\u041e\u0446\u0435\u043d\u043a\u0430\" v-model=\"editFormPart.final_grade\" type='number' name=\"final_grade\"/> <v-btn type=\"submit\" color=\"primary\" dark>\u041e\u0446\u0435\u043d\u0438\u0442\u044c</v-btn> </v-col> </v-row> </v-form> <v-card> <v-card-text style=\"margin-top:1cm\"> <a @click.prevent=\"goHome\">\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e</a> </v-card-text> </v-card> </div> </template> <script> import $ from \"jquery\"; const array1 = []; import axios from \"axios\"; export default { name: 'CosScoring', data: () => ({ editFormPart: { medal: \"\", dismissed: \"\", final_grade: \"\", participant: \"\", }, medals: ['g', 's', 'b'], participants: array1, }), methods: { async signPart() { console.log(1) $.ajax({ type: \"POST\", data: { medal: this.editFormPart.medal, dismissed: this.editFormPart.dismissed, final_grade: this.editFormPart.final_grade, participant: this.editFormPart.participant, }, url: \"http://127.0.0.1:8000/participation/\" }).done(function () { console.log(this.data) alert(\"\u0413\u043e\u0442\u043e\u0432\u043e\") }); }, goHome() { this.$router.push({name: 'home'}) } }, beforeMount: function () { this.$nextTick(async function () { const response = await axios.get('http://127.0.0.1:8000/participants/?format=json') for (let part of response.data) { array1.push(part); } }) } } </script>","title":"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"},{"location":"pr_w_3/","text":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 3.1 \u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.1 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 6-7 \u043d\u043e\u0432\u044b\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u0438 5-6 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439, \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0443 \u043d\u0430\u0437\u043d\u0430\u0447\u044c\u0442\u0435 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u0435 \u0438 \u043e\u0442 1 \u0434\u043e 3 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439. \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043b\u0438\u0431\u043e \u0432 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0442\u043e\u0440\u0430, \u043b\u0438\u0431\u043e \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c python-\u0444\u0430\u0439\u043b\u0435. \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u0442\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432. models.py from django.db import models from django.contrib.auth.models import AbstractUser # Create your models here. class Car_owner(models.Model): id_owner = models.IntegerField(primary_key = True) last_name = models.CharField(max_length = 30, null = False) first_name = models.CharField(max_length = 30, null = False) birth_day = models.DateField(null = True) passport = models.IntegerField(null=True) address = models.CharField(max_length=50, null=True, blank=True) nationality = models.CharField(max_length=20, null=True, blank=True) class Car(models.Model): id_car = models.IntegerField(primary_key = True) state_number = models.CharField(max_length = 15, null = False) mark_car = models.CharField(max_length = 20, null = False) model_car = models.CharField(max_length = 20, null = False) color = models.CharField(max_length = 30, null = True) class Ownerdhip(models.Model): id_owner_car = models.IntegerField(primary_key = True) id_owner = models.ForeignKey(Car_owner, on_delete = models.CASCADE) id_car = models.ForeignKey(Car, on_delete = models.CASCADE) start_date = models.DateField() end_date = models.DateField(null = True) class Driver_license(models.Model): id_license = models.IntegerField(primary_key = True) id_owner = models.ForeignKey(Car_owner, on_delete = models.CASCADE) license_number = models.CharField(max_length = 10, null = False) type = models.CharField(max_length = 10, null = False) date_of_license= models.DateField() \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432: Car_owner(1, '\u0428\u043f\u0430\u0439\u0437\u043c\u0430\u043d\u043d', '\u0418\u0437\u044f\u0441\u043b\u0430\u0432', '1990-01-1').save() Car_owner(2, '\u0412\u0430\u0445\u0442\u0435\u043d\u0431\u0435\u0440\u0433', '\u041c\u0441\u0442\u0438\u0441\u043b\u0430\u0432', '1991-01-1').save() Car_owner(3, '\u041f\u0435\u0442\u0440\u0438\u0449\u0435\u0432', '\u0412\u043e\u0438\u0441\u043b\u0430\u0432', '1992-01-1').save() Car_owner(4, '\u0414\u0435\u0434\u0438\u0449\u0435\u0432', '\u041e\u0433\u043d\u0435\u0441\u043b\u0430\u0432', '1993-01-1').save() Car_owner(5, '\u0417\u0440\u0438\u0449\u0435\u0432', '\u042f\u0440\u043e\u043f\u043e\u043b\u043a', '1994-01-1').save() Car_owner(6, '\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0449\u0435\u0432', '\u0421\u0432\u044f\u0442\u043e\u0437\u0430\u0440', '1995-01-1').save() for i in Car_owner.objects.all(): ...: print(i) ...: Car_owner object (1) Car_owner object (2) Car_owner object (3) Car_owner object (4) Car_owner object (5) Car_owner object (6) for i in Car_owner.objects.all(): ...: print(i.id_owner) ...: 1 2 3 4 5 6 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439 Car(1, 'A1A1', 'BMW', 'Model1', 'white').save() Car(2, 'A2A2', 'BMW', 'Model2', 'black').save() Car(3, 'A3A3', 'Toyota', 'Model3', 'blue').save() Car(4, 'A4A4', 'Toyota', 'Model4', 'white').save() Car(5, 'A5A5', 'Audi', 'Model5', 'red').save() Car(6, 'A6A6', 'Audi', 'Model6', 'balck').save() \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u043f\u0440\u0430\u0432 Driver_license(1, 1, '1234567', 'B', '2010-01-01').save() Driver_license(2, 2, '4567890', 'B', '2011-01-01').save() Driver_license(3, 3, '6527810', 'B', '2012-01-01').save() Driver_license(4, 4, '65228340', 'B', '2013-01-01').save() Driver_license(5, 5, '15228143', 'B', '2014-01-01').save() Driver_license(6, 6, '13298123', 'B', '2015-01-01').save() \u0412\u043b\u0430\u0434\u0435\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439 Ownerdhip(1, 1, 1, '2011-01-01', '2012-01-01').save() Ownerdhip(2, 2, 2, '2012-01-01', '2013-01-01').save() Ownerdhip(3, 3, 3, '2013-01-01', '2014-01-01').save() Ownerdhip(4, 4, 4, '2014-01-01', '2015-01-01').save() Ownerdhip(5, 5, 5, '2015-01-01', '2016-01-01').save() Ownerdhip(6, 6, 6, '2016-01-01', '2017-01-01').save() \u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.2 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u043f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u043c \u0432 \u043f\u0440.1 \u0434\u0430\u043d\u043d\u044b\u043c \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043d\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044e: \u0417\u0430\u043f\u0440\u043e\u0441 1 \u0412\u044b\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0441\u0435 \u043c\u0430\u0448\u0438\u043d\u044b \u043c\u0430\u0440\u043a\u0438 \u201cToyota\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u043c\u0430\u0440\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c): In [45]: Car.objects.filter(mark_car=\"Toyota\") Out[45]: <QuerySet [<Car: Car object (3)>, <Car: Car object (4)>]> \u0417\u0430\u043f\u0440\u043e\u0441 2 \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \u201c\u041e\u043b\u0435\u0433\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u044b\u043c \u0434\u0440\u0443\u0433\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0430 \u0432\u0430\u0448\u0435 \u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0435): In [46]: Car_owner.objects.filter(first_name=\"FN3\") Out[46]: <QuerySet [<Car_owner: Car_owner object (3)>]> \u0417\u0430\u043f\u0440\u043e\u0441 3 \u0412\u0437\u044f\u0432 \u043b\u044e\u0431\u043e\u0433\u043e \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0435\u0433\u043e id, \u0438 \u043f\u043e \u044d\u0442\u043e\u043c\u0443 id \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f \u0432 \u0432\u0438\u0434\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043c\u043e\u0434\u0435\u043b\u0438 (\u043c\u043e\u0436\u043d\u043e \u0432 2 \u0437\u0430\u043f\u0440\u043e\u0441\u0430): In [48]: take_id = Car_owner.objects.all()[1].id_owner In [49]: Driver_license.objects.get(id_owner=take_id) Out[49]: <Driver_license: Driver_license object (2)> \u0417\u0430\u043f\u0440\u043e\u0441 4 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043a\u0440\u0430\u0441\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0446\u0432\u0435\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443 \u0432\u0430\u0441 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442): In [2]: Car_owner.objects.filter(ownership__id_car__color = 'red') Out[2]: <QuerySet [<Car_owner: Car_owner object (5)>]> \u0417\u0430\u043f\u0440\u043e\u0441 5 \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432, \u0447\u0435\u0439 \u0433\u043e\u0434 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 2010 (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0433\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0443 \u0432\u0430\u0441 \u0432 \u0431\u0430\u0437\u0435): In [3]: Car_owner.objects.filter(ownership__start_date__gte>\"2010-01-01\") Out[3]: <QuerySet [<Car_owner: Car_owner object (3)>, <Car_owner: Car_owner object (4)>, <Car_owner: Car_owner object (5)>, <Car_owner: Car_owner object (6)>]> \u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.3 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b: \u0417\u0430\u043f\u0440\u043e\u0441 1 \u0412\u044b\u0432\u043e\u0434 \u0434\u0430\u0442\u044b \u0432\u044b\u0434\u0430\u0447\u0438 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0430\u0440\u0448\u0435\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f: In [59]: from django.db.models import Min, Max In [60]: Driver_license.objects.aggregate(date_of_license=Min(\"date_of_license\")) Out[60]: {'date_of_license': datetime.date(2010, 1, 1)} \u0417\u0430\u043f\u0440\u043e\u0441 2 \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0430\u043c\u0443\u044e \u043f\u043e\u0437\u0434\u043d\u044e\u044e \u0434\u0430\u0442\u0443 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439, \u0438\u043c\u0435\u044e\u0449\u0443\u044e \u043a\u0430\u043a\u0443\u044e-\u0442\u043e \u0438\u0437 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0432 \u0432\u0430\u0448\u0435\u0439 \u0431\u0430\u0437\u0435: In [62]: Ownerdhip.objects.aggregate(start_date=Max(\"start_date\")) Out[62]: {'start_date': datetime.date(2016, 1, 1)} \u0417\u0430\u043f\u0440\u043e\u0441 3 \u0412\u044b\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f: In [64]: from django.db.models import Count In [65]: Ownerdhip.objects.values(\"id_owner\").annotate(Count(\"id_car\")) Out[65]: <QuerySet [{'id_owner': 1, 'id_car__count': 1}, {'id_owner': 2, 'id_car__count': 1}, {'id_owner': 3, 'id_car__count': 1}, {'id_owner': 4, 'id_car__count': 1}, {'id_owner': 5, 'id _car__count': 1}, {'id_owner': 6, 'id_car__count': 1}]> \u0417\u0430\u043f\u0440\u043e\u0441 4 \u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u043a\u0430\u0436\u0434\u043e\u0439 \u043c\u0430\u0440\u043a\u0438: In [66]: Car.objects.values(\"mark_car\").annotate(Count(\"id_car\")) Out[66]: <QuerySet [{'mark_car': 'Audi', 'id_car__count': 2}, {'mark_car': 'BMW', 'id_car__count': 2}, {'mark_car': 'Toyota', 'id_car__count': 2}]> \u0417\u0430\u043f\u0440\u043e\u0441 5 \u041e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0441\u0435\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043f\u043e \u0434\u0430\u0442\u0435 \u0432\u044b\u0434\u0430\u0447\u0438 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f: In [79]: Car_owner.objects.order_by(\"driver_license__date_of_license\") Out[79]: <QuerySet [<Car_owner: Car_owner object (1)>, <Car_owner: Car_owner object (2)>, <Car_owner: Car_owner object (3)>, <Car_owner: Car_owner object (4)>, <Car_owner: Car_owner objec t (5)>, <Car_owner: Car_owner object (6)>]>","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 3.1"},{"location":"pr_w_3/#31","text":"","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 3.1"},{"location":"pr_w_3/#311","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 6-7 \u043d\u043e\u0432\u044b\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u0438 5-6 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439, \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0443 \u043d\u0430\u0437\u043d\u0430\u0447\u044c\u0442\u0435 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u0435 \u0438 \u043e\u0442 1 \u0434\u043e 3 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439. \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043b\u0438\u0431\u043e \u0432 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0442\u043e\u0440\u0430, \u043b\u0438\u0431\u043e \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c python-\u0444\u0430\u0439\u043b\u0435. \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u0442\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432.","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.1"},{"location":"pr_w_3/#modelspy","text":"from django.db import models from django.contrib.auth.models import AbstractUser # Create your models here. class Car_owner(models.Model): id_owner = models.IntegerField(primary_key = True) last_name = models.CharField(max_length = 30, null = False) first_name = models.CharField(max_length = 30, null = False) birth_day = models.DateField(null = True) passport = models.IntegerField(null=True) address = models.CharField(max_length=50, null=True, blank=True) nationality = models.CharField(max_length=20, null=True, blank=True) class Car(models.Model): id_car = models.IntegerField(primary_key = True) state_number = models.CharField(max_length = 15, null = False) mark_car = models.CharField(max_length = 20, null = False) model_car = models.CharField(max_length = 20, null = False) color = models.CharField(max_length = 30, null = True) class Ownerdhip(models.Model): id_owner_car = models.IntegerField(primary_key = True) id_owner = models.ForeignKey(Car_owner, on_delete = models.CASCADE) id_car = models.ForeignKey(Car, on_delete = models.CASCADE) start_date = models.DateField() end_date = models.DateField(null = True) class Driver_license(models.Model): id_license = models.IntegerField(primary_key = True) id_owner = models.ForeignKey(Car_owner, on_delete = models.CASCADE) license_number = models.CharField(max_length = 10, null = False) type = models.CharField(max_length = 10, null = False) date_of_license= models.DateField()","title":"models.py"},{"location":"pr_w_3/#_1","text":"Car_owner(1, '\u0428\u043f\u0430\u0439\u0437\u043c\u0430\u043d\u043d', '\u0418\u0437\u044f\u0441\u043b\u0430\u0432', '1990-01-1').save() Car_owner(2, '\u0412\u0430\u0445\u0442\u0435\u043d\u0431\u0435\u0440\u0433', '\u041c\u0441\u0442\u0438\u0441\u043b\u0430\u0432', '1991-01-1').save() Car_owner(3, '\u041f\u0435\u0442\u0440\u0438\u0449\u0435\u0432', '\u0412\u043e\u0438\u0441\u043b\u0430\u0432', '1992-01-1').save() Car_owner(4, '\u0414\u0435\u0434\u0438\u0449\u0435\u0432', '\u041e\u0433\u043d\u0435\u0441\u043b\u0430\u0432', '1993-01-1').save() Car_owner(5, '\u0417\u0440\u0438\u0449\u0435\u0432', '\u042f\u0440\u043e\u043f\u043e\u043b\u043a', '1994-01-1').save() Car_owner(6, '\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0449\u0435\u0432', '\u0421\u0432\u044f\u0442\u043e\u0437\u0430\u0440', '1995-01-1').save() for i in Car_owner.objects.all(): ...: print(i) ...: Car_owner object (1) Car_owner object (2) Car_owner object (3) Car_owner object (4) Car_owner object (5) Car_owner object (6) for i in Car_owner.objects.all(): ...: print(i.id_owner) ...: 1 2 3 4 5 6","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432:"},{"location":"pr_w_3/#_2","text":"Car(1, 'A1A1', 'BMW', 'Model1', 'white').save() Car(2, 'A2A2', 'BMW', 'Model2', 'black').save() Car(3, 'A3A3', 'Toyota', 'Model3', 'blue').save() Car(4, 'A4A4', 'Toyota', 'Model4', 'white').save() Car(5, 'A5A5', 'Audi', 'Model5', 'red').save() Car(6, 'A6A6', 'Audi', 'Model6', 'balck').save()","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439"},{"location":"pr_w_3/#_3","text":"Driver_license(1, 1, '1234567', 'B', '2010-01-01').save() Driver_license(2, 2, '4567890', 'B', '2011-01-01').save() Driver_license(3, 3, '6527810', 'B', '2012-01-01').save() Driver_license(4, 4, '65228340', 'B', '2013-01-01').save() Driver_license(5, 5, '15228143', 'B', '2014-01-01').save() Driver_license(6, 6, '13298123', 'B', '2015-01-01').save()","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u043f\u0440\u0430\u0432"},{"location":"pr_w_3/#_4","text":"Ownerdhip(1, 1, 1, '2011-01-01', '2012-01-01').save() Ownerdhip(2, 2, 2, '2012-01-01', '2013-01-01').save() Ownerdhip(3, 3, 3, '2013-01-01', '2014-01-01').save() Ownerdhip(4, 4, 4, '2014-01-01', '2015-01-01').save() Ownerdhip(5, 5, 5, '2015-01-01', '2016-01-01').save() Ownerdhip(6, 6, 6, '2016-01-01', '2017-01-01').save()","title":"\u0412\u043b\u0430\u0434\u0435\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439"},{"location":"pr_w_3/#312","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u043f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u043c \u0432 \u043f\u0440.1 \u0434\u0430\u043d\u043d\u044b\u043c \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043d\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044e:","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.2"},{"location":"pr_w_3/#1","text":"\u0412\u044b\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0441\u0435 \u043c\u0430\u0448\u0438\u043d\u044b \u043c\u0430\u0440\u043a\u0438 \u201cToyota\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u043c\u0430\u0440\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c): In [45]: Car.objects.filter(mark_car=\"Toyota\") Out[45]: <QuerySet [<Car: Car object (3)>, <Car: Car object (4)>]>","title":"\u0417\u0430\u043f\u0440\u043e\u0441 1"},{"location":"pr_w_3/#2","text":"\u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \u201c\u041e\u043b\u0435\u0433\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u044b\u043c \u0434\u0440\u0443\u0433\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0430 \u0432\u0430\u0448\u0435 \u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0435): In [46]: Car_owner.objects.filter(first_name=\"FN3\") Out[46]: <QuerySet [<Car_owner: Car_owner object (3)>]>","title":"\u0417\u0430\u043f\u0440\u043e\u0441 2"},{"location":"pr_w_3/#3","text":"\u0412\u0437\u044f\u0432 \u043b\u044e\u0431\u043e\u0433\u043e \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0435\u0433\u043e id, \u0438 \u043f\u043e \u044d\u0442\u043e\u043c\u0443 id \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f \u0432 \u0432\u0438\u0434\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043c\u043e\u0434\u0435\u043b\u0438 (\u043c\u043e\u0436\u043d\u043e \u0432 2 \u0437\u0430\u043f\u0440\u043e\u0441\u0430): In [48]: take_id = Car_owner.objects.all()[1].id_owner In [49]: Driver_license.objects.get(id_owner=take_id) Out[49]: <Driver_license: Driver_license object (2)>","title":"\u0417\u0430\u043f\u0440\u043e\u0441 3"},{"location":"pr_w_3/#4","text":"\u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043a\u0440\u0430\u0441\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0446\u0432\u0435\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443 \u0432\u0430\u0441 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442): In [2]: Car_owner.objects.filter(ownership__id_car__color = 'red') Out[2]: <QuerySet [<Car_owner: Car_owner object (5)>]>","title":"\u0417\u0430\u043f\u0440\u043e\u0441 4"},{"location":"pr_w_3/#5","text":"\u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432, \u0447\u0435\u0439 \u0433\u043e\u0434 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 2010 (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0433\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0443 \u0432\u0430\u0441 \u0432 \u0431\u0430\u0437\u0435): In [3]: Car_owner.objects.filter(ownership__start_date__gte>\"2010-01-01\") Out[3]: <QuerySet [<Car_owner: Car_owner object (3)>, <Car_owner: Car_owner object (4)>, <Car_owner: Car_owner object (5)>, <Car_owner: Car_owner object (6)>]>","title":"\u0417\u0430\u043f\u0440\u043e\u0441 5"},{"location":"pr_w_3/#313","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b:","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.3"},{"location":"pr_w_3/#1_1","text":"\u0412\u044b\u0432\u043e\u0434 \u0434\u0430\u0442\u044b \u0432\u044b\u0434\u0430\u0447\u0438 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0430\u0440\u0448\u0435\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f: In [59]: from django.db.models import Min, Max In [60]: Driver_license.objects.aggregate(date_of_license=Min(\"date_of_license\")) Out[60]: {'date_of_license': datetime.date(2010, 1, 1)}","title":"\u0417\u0430\u043f\u0440\u043e\u0441 1"},{"location":"pr_w_3/#2_1","text":"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0430\u043c\u0443\u044e \u043f\u043e\u0437\u0434\u043d\u044e\u044e \u0434\u0430\u0442\u0443 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439, \u0438\u043c\u0435\u044e\u0449\u0443\u044e \u043a\u0430\u043a\u0443\u044e-\u0442\u043e \u0438\u0437 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0432 \u0432\u0430\u0448\u0435\u0439 \u0431\u0430\u0437\u0435: In [62]: Ownerdhip.objects.aggregate(start_date=Max(\"start_date\")) Out[62]: {'start_date': datetime.date(2016, 1, 1)}","title":"\u0417\u0430\u043f\u0440\u043e\u0441 2"},{"location":"pr_w_3/#3_1","text":"\u0412\u044b\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f: In [64]: from django.db.models import Count In [65]: Ownerdhip.objects.values(\"id_owner\").annotate(Count(\"id_car\")) Out[65]: <QuerySet [{'id_owner': 1, 'id_car__count': 1}, {'id_owner': 2, 'id_car__count': 1}, {'id_owner': 3, 'id_car__count': 1}, {'id_owner': 4, 'id_car__count': 1}, {'id_owner': 5, 'id _car__count': 1}, {'id_owner': 6, 'id_car__count': 1}]>","title":"\u0417\u0430\u043f\u0440\u043e\u0441 3"},{"location":"pr_w_3/#4_1","text":"\u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u043a\u0430\u0436\u0434\u043e\u0439 \u043c\u0430\u0440\u043a\u0438: In [66]: Car.objects.values(\"mark_car\").annotate(Count(\"id_car\")) Out[66]: <QuerySet [{'mark_car': 'Audi', 'id_car__count': 2}, {'mark_car': 'BMW', 'id_car__count': 2}, {'mark_car': 'Toyota', 'id_car__count': 2}]>","title":"\u0417\u0430\u043f\u0440\u043e\u0441 4"},{"location":"pr_w_3/#5_1","text":"\u041e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0441\u0435\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043f\u043e \u0434\u0430\u0442\u0435 \u0432\u044b\u0434\u0430\u0447\u0438 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f: In [79]: Car_owner.objects.order_by(\"driver_license__date_of_license\") Out[79]: <QuerySet [<Car_owner: Car_owner object (1)>, <Car_owner: Car_owner object (2)>, <Car_owner: Car_owner object (3)>, <Car_owner: Car_owner object (4)>, <Car_owner: Car_owner objec t (5)>, <Car_owner: Car_owner object (6)>]>","title":"\u0417\u0430\u043f\u0440\u043e\u0441 5"}]}